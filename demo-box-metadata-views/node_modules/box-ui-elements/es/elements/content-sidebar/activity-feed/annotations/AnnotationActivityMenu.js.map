{"version":3,"sources":["../../../../../src/elements/content-sidebar/activity-feed/annotations/AnnotationActivityMenu.js"],"names":["React","TetherComponent","FormattedMessage","DeleteConfirmation","IconTrash","Media","messages","ACTIVITY_TARGETS","bdlGray","MenuItem","AnnotationActivityMenu","canDelete","id","onDeleteConfirm","useState","isConfirmingDelete","setIsConfirmingDelete","handleDeleteCancel","handleDeleteClick","handleDeleteConfirm","tetherProps","attachment","className","constraints","to","targetAttachment","ANNOTATION_OPTIONS_DELETE","annotationActivityDeleteMenuItem","ANNOTATION_OPTIONS","annotationActivityDeletePrompt"],"mappings":";;;;;;;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,eAAP,MAA4B,cAA5B;AACA,SAASC,gBAAT,QAAiC,YAAjC;AACA,OAAOC,kBAAP,MAA+B,+BAA/B;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,gBAAT,QAAiC,oCAAjC;AACA,SAASC,OAAT,QAAwB,8BAAxB;AACA,SAASC,QAAT,QAAyB,6BAAzB;;AAQA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,OAAqE;AAAA,MAAlEC,SAAkE,QAAlEA,SAAkE;AAAA,MAAvDC,EAAuD,QAAvDA,EAAuD;AAAA,MAAnDC,eAAmD,QAAnDA,eAAmD;;AAAA,wBAC5Cb,KAAK,CAACc,QAAN,CAAe,KAAf,CAD4C;AAAA;AAAA,MACzFC,kBADyF;AAAA,MACrEC,qBADqE;;AAGhG,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAY;AACnCD,IAAAA,qBAAqB,CAAC,KAAD,CAArB;AACH,GAFD;;AAIA,MAAME,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC5BF,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACH,GAFD;;AAIA,MAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAC9BH,IAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAH,IAAAA,eAAe;AAClB,GAHD;;AAKA,MAAMO,WAAW,GAAG;AAChBC,IAAAA,UAAU,EAAE,WADI;AAEhBC,IAAAA,SAAS,EAAE,gDAFK;AAGhBC,IAAAA,WAAW,EAAE,CAAC;AAAEC,MAAAA,EAAE,EAAE,cAAN;AAAsBH,MAAAA,UAAU,EAAE;AAAlC,KAAD,CAHG;AAIhBI,IAAAA,gBAAgB,EAAE;AAJF,GAApB;AAOA,SACI,oBAAC,eAAD,EAAqBL,WAArB,EACKT,SAAS,IACN,oBAAC,KAAD,CAAO,IAAP;AACI,IAAA,UAAU,EAAEI,kBADhB;AAEI,mBAAY,kCAFhB;AAGI,IAAA,SAAS,EAAE;AACP,8BAAwB,SADjB;AAEP,4BAAsB;AAFf;AAHf,KAQI,oBAAC,QAAD;AACI,yBAAmBH,EADvB;AAEI,yBAAmBL,gBAAgB,CAACmB,yBAFxC;AAGI,mBAAY,4BAHhB;AAII,IAAA,OAAO,EAAER;AAJb,KAMI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEV;AAAlB,IANJ,EAOI,oBAAC,gBAAD,EAAsBF,QAAQ,CAACqB,gCAA/B,CAPJ,CARJ,CAFR,EAqBKZ,kBAAkB,IACf,oBAAC,kBAAD;AACI,4BAAsBR,gBAAgB,CAACqB,kBAD3C;AAEI,IAAA,MAAM,EAAEb,kBAFZ;AAGI,IAAA,OAAO,EAAET,QAAQ,CAACuB,8BAHtB;AAII,IAAA,cAAc,EAAEZ,kBAJpB;AAKI,IAAA,eAAe,EAAEE;AALrB,IAtBR,CADJ;AAiCH,CAxDD;;AA0DA,eAAeT,sBAAf","sourcesContent":["// @flow\nimport * as React from 'react';\nimport TetherComponent from 'react-tether';\nimport { FormattedMessage } from 'react-intl';\nimport DeleteConfirmation from '../common/delete-confirmation';\nimport IconTrash from '../../../../icons/general/IconTrash';\nimport Media from '../../../../components/media';\nimport messages from './messages';\nimport { ACTIVITY_TARGETS } from '../../../common/interactionTargets';\nimport { bdlGray } from '../../../../styles/variables';\nimport { MenuItem } from '../../../../components/menu';\n\ntype AnnotationActivityMenuProps = {\n    canDelete?: boolean,\n    id: string,\n    onDeleteConfirm: () => void,\n};\n\nconst AnnotationActivityMenu = ({ canDelete, id, onDeleteConfirm }: AnnotationActivityMenuProps) => {\n    const [isConfirmingDelete, setIsConfirmingDelete] = React.useState(false);\n\n    const handleDeleteCancel = (): void => {\n        setIsConfirmingDelete(false);\n    };\n\n    const handleDeleteClick = () => {\n        setIsConfirmingDelete(true);\n    };\n\n    const handleDeleteConfirm = () => {\n        setIsConfirmingDelete(false);\n        onDeleteConfirm();\n    };\n\n    const tetherProps = {\n        attachment: 'top right',\n        className: 'bcs-AnnotationActivity-deleteConfirmationModal',\n        constraints: [{ to: 'scrollParent', attachment: 'together' }],\n        targetAttachment: 'bottom right',\n    };\n\n    return (\n        <TetherComponent {...tetherProps}>\n            {canDelete && (\n                <Media.Menu\n                    isDisabled={isConfirmingDelete}\n                    data-testid=\"annotation-activity-actions-menu\"\n                    menuProps={{\n                        'data-resin-component': 'preview',\n                        'data-resin-feature': 'annotations',\n                    }}\n                >\n                    <MenuItem\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_DELETE}\n                        data-testid=\"delete-annotation-activity\"\n                        onClick={handleDeleteClick}\n                    >\n                        <IconTrash color={bdlGray} />\n                        <FormattedMessage {...messages.annotationActivityDeleteMenuItem} />\n                    </MenuItem>\n                </Media.Menu>\n            )}\n            {isConfirmingDelete && (\n                <DeleteConfirmation\n                    data-resin-component={ACTIVITY_TARGETS.ANNOTATION_OPTIONS}\n                    isOpen={isConfirmingDelete}\n                    message={messages.annotationActivityDeletePrompt}\n                    onDeleteCancel={handleDeleteCancel}\n                    onDeleteConfirm={handleDeleteConfirm}\n                />\n            )}\n        </TetherComponent>\n    );\n};\n\nexport default AnnotationActivityMenu;\n"],"file":"AnnotationActivityMenu.js"}