{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n/**\n * \n * @file Versions Item Button component\n * @author Box\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PlainButton from '../../../components/plain-button';\nimport { scrollIntoView } from '../../../utils/dom';\nimport './VersionsItemButton.scss';\nvar VersionsItemButton = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VersionsItemButton, _React$Component);\n  function VersionsItemButton() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, VersionsItemButton);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(VersionsItemButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _defineProperty(_assertThisInitialized(_this), \"setButtonRef\", function (buttonRef) {\n      _this.buttonRef = buttonRef;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setScroll\", function () {\n      var isSelected = _this.props.isSelected;\n      if (_this.buttonRef && isSelected) {\n        scrollIntoView(_this.buttonRef);\n      }\n    });\n    return _this;\n  }\n  _createClass(VersionsItemButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setScroll();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_ref) {\n      var prevIsSelected = _ref.isSelected;\n      var isSelected = this.props.isSelected;\n      if (isSelected !== prevIsSelected) {\n        this.setScroll();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        children = _this$props.children,\n        fileId = _this$props.fileId,\n        isCurrent = _this$props.isCurrent,\n        isDisabled = _this$props.isDisabled,\n        isSelected = _this$props.isSelected,\n        onClick = _this$props.onClick;\n      var buttonClassName = classNames('bcs-VersionsItemButton', {\n        'bcs-is-disabled': isDisabled,\n        'bcs-is-selected': isSelected && !isDisabled\n      });\n      return React.createElement(PlainButton, {\n        \"aria-disabled\": isDisabled,\n        className: buttonClassName,\n        \"data-resin-iscurrent\": isCurrent,\n        \"data-resin-itemid\": fileId,\n        \"data-resin-target\": \"select\",\n        \"data-testid\": \"versions-item-button\",\n        getDOMRef: this.setButtonRef,\n        isDisabled: isDisabled,\n        onClick: onClick,\n        type: \"button\"\n      }, children);\n    }\n  }]);\n  return VersionsItemButton;\n}(React.Component);\n_defineProperty(VersionsItemButton, \"defaultProps\", {\n  isCurrent: false,\n  isDisabled: false,\n  isSelected: false\n});\nexport default VersionsItemButton;","map":{"version":3,"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemButton.js"],"names":["React","classNames","PlainButton","scrollIntoView","VersionsItemButton","Component","isCurrent","isDisabled","isSelected","setScroll","prevIsSelected","props","buttonRef","children","fileId","onClick","buttonClassName","setButtonRef"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;AAMA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,SAASC,cAAT,QAA+B,oBAA/B;AACA,OAAO,2BAAP;IAWMC,kB;;;;;;;;;;;mEAqBa,UAACQ,SAAD,EAAyC;MACpD,KAAA,CAAKA,SAAL,GAAiBA,SAAjB;IACH,C;gEAEW,YAAM;MAAA,IACNJ,UADM,GACS,KAAA,CAAKG,KADd,CACNH,UADM;MAGd,IAAI,KAAA,CAAKI,SAAL,IAAkBJ,UAAtB,EAAkC;QAC9BL,cAAc,CAAC,KAAA,CAAKS,SAAN,CAAdT;MACH;IACJ,C;;;;;wCAtBmB;MAChB,IAAA,CAAKM,SAAL,CAAA,CAAA;IACH;;;6CAEyD;MAAA,IAAzBC,cAAyB,GAAA,IAAA,CAArCF,UAAqC;MAAA,IAC9CA,UAD8C,GAC/B,IAAA,CAAKG,KAD0B,CAC9CH,UAD8C;MAGtD,IAAIA,UAAU,KAAKE,cAAnB,EAAmC;QAC/B,IAAA,CAAKD,SAAL,CAAA,CAAA;MACH;IACJ;;;6BAcQ;MAAA,IAAA,WAAA,GACoE,IAAA,CAAKE,KADzE;QACGE,QADH,GAAA,WAAA,CACGA,QADH;QACaC,MADb,GAAA,WAAA,CACaA,MADb;QACqBR,SADrB,GAAA,WAAA,CACqBA,SADrB;QACgCC,UADhC,GAAA,WAAA,CACgCA,UADhC;QAC4CC,UAD5C,GAAA,WAAA,CAC4CA,UAD5C;QACwDO,OADxD,GAAA,WAAA,CACwDA,OADxD;MAEL,IAAMC,eAAe,GAAGf,UAAU,CAAC,wBAAD,EAA2B;QACzD,iBAAA,EAAmBM,UADsC;QAEzD,iBAAA,EAAmBC,UAAU,IAAI,CAACD;MAFuB,CAA3B,CAAlC;MAKA,OACI,KAAA,CAAA,aAAA,CAAC,WAAD,EAAA;QACI,eAAA,EAAeA,UADnB;QAEI,SAAS,EAAES,eAFf;QAGI,sBAAA,EAAsBV,SAH1B;QAII,mBAAA,EAAmBQ,MAJvB;QAKI,mBAAA,EAAkB,QALtB;QAMI,aAAA,EAAY,sBANhB;QAOI,SAAS,EAAE,IAAA,CAAKG,YAPpB;QAQI,UAAU,EAAEV,UARhB;QASI,OAAO,EAAEQ,OATb;QAUI,IAAI,EAAC;MAVT,CAAA,EAYKF,QAZL,CADJ;IAgBH;;;EAxD4Bb,KAAK,CAACK,S;gBAAjCD,kB,kBACoB;EAClBE,SAAS,EAAE,KADO;EAElBC,UAAU,EAAE,KAFM;EAGlBC,UAAU,EAAE;AAHM,C;AA0D1B,eAAeJ,kBAAf","sourcesContent":["/**\n * @flow\n * @file Versions Item Button component\n * @author Box\n */\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PlainButton from '../../../components/plain-button';\nimport { scrollIntoView } from '../../../utils/dom';\nimport './VersionsItemButton.scss';\n\ntype Props = {\n    children: React.Node,\n    fileId: string,\n    isCurrent: boolean,\n    isDisabled: boolean,\n    isSelected: boolean,\n    onClick: (event: SyntheticMouseEvent<HTMLButtonElement>) => void,\n};\n\nclass VersionsItemButton extends React.Component<Props> {\n    static defaultProps = {\n        isCurrent: false,\n        isDisabled: false,\n        isSelected: false,\n    };\n\n    buttonRef: ?HTMLButtonElement;\n\n    componentDidMount() {\n        this.setScroll();\n    }\n\n    componentDidUpdate({ isSelected: prevIsSelected }: Props) {\n        const { isSelected } = this.props;\n\n        if (isSelected !== prevIsSelected) {\n            this.setScroll();\n        }\n    }\n\n    setButtonRef = (buttonRef: ?HTMLButtonElement): void => {\n        this.buttonRef = buttonRef;\n    };\n\n    setScroll = () => {\n        const { isSelected } = this.props;\n\n        if (this.buttonRef && isSelected) {\n            scrollIntoView(this.buttonRef);\n        }\n    };\n\n    render() {\n        const { children, fileId, isCurrent, isDisabled, isSelected, onClick } = this.props;\n        const buttonClassName = classNames('bcs-VersionsItemButton', {\n            'bcs-is-disabled': isDisabled,\n            'bcs-is-selected': isSelected && !isDisabled,\n        });\n\n        return (\n            <PlainButton\n                aria-disabled={isDisabled}\n                className={buttonClassName}\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"select\"\n                data-testid=\"versions-item-button\"\n                getDOMRef={this.setButtonRef}\n                isDisabled={isDisabled}\n                onClick={onClick}\n                type=\"button\"\n            >\n                {children}\n            </PlainButton>\n        );\n    }\n}\n\nexport default VersionsItemButton;\n"]},"metadata":{},"sourceType":"module"}