{"ast":null,"code":"/*! tether 1.4.7 */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Tether = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ('value' in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n  var TetherBase = undefined;\n  if (typeof TetherBase === 'undefined') {\n    TetherBase = {\n      modules: []\n    };\n  }\n  var zeroElement = null;\n\n  // Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n  // if the element lies within a nested document (<frame> or <iframe>-like).\n  function getActualBoundingClientRect(node) {\n    var boundingRect = node.getBoundingClientRect();\n\n    // The original object returned by getBoundingClientRect is immutable, so we clone it\n    // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n    var rect = {};\n    for (var k in boundingRect) {\n      rect[k] = boundingRect[k];\n    }\n    try {\n      if (node.ownerDocument !== document) {\n        var _frameElement = node.ownerDocument.defaultView.frameElement;\n        if (_frameElement) {\n          var frameRect = getActualBoundingClientRect(_frameElement);\n          rect.top += frameRect.top;\n          rect.bottom += frameRect.top;\n          rect.left += frameRect.left;\n          rect.right += frameRect.left;\n        }\n      }\n    } catch (err) {\n      // Ignore \"Access is denied\" in IE11/Edge\n    }\n    return rect;\n  }\n  function getScrollParents(el) {\n    // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    var computedStyle = getComputedStyle(el) || {};\n    var position = computedStyle.position;\n    var parents = [];\n    if (position === 'fixed') {\n      return [el];\n    }\n    var parent = el;\n    while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n      var style = undefined;\n      try {\n        style = getComputedStyle(parent);\n      } catch (err) {}\n      if (typeof style === 'undefined' || style === null) {\n        parents.push(parent);\n        return parents;\n      }\n      var _style = style;\n      var overflow = _style.overflow;\n      var overflowX = _style.overflowX;\n      var overflowY = _style.overflowY;\n      if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n        if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n          parents.push(parent);\n        }\n      }\n    }\n    parents.push(el.ownerDocument.body);\n\n    // If the node is within a frame, account for the parent window scroll\n    if (el.ownerDocument !== document) {\n      parents.push(el.ownerDocument.defaultView);\n    }\n    return parents;\n  }\n  var uniqueId = function () {\n    var id = 0;\n    return function () {\n      return ++id;\n    };\n  }();\n  var zeroPosCache = {};\n  var getOrigin = function getOrigin() {\n    // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n    // jitter as the user scrolls that messes with our ability to detect if two positions\n    // are equivilant or not.  We place an element at the top left of the page that will\n    // get the same jitter, so we can cancel the two out.\n    var node = zeroElement;\n    if (!node || !document.body.contains(node)) {\n      node = document.createElement('div');\n      node.setAttribute('data-tether-id', uniqueId());\n      extend(node.style, {\n        top: 0,\n        left: 0,\n        position: 'absolute'\n      });\n      document.body.appendChild(node);\n      zeroElement = node;\n    }\n    var id = node.getAttribute('data-tether-id');\n    if (typeof zeroPosCache[id] === 'undefined') {\n      zeroPosCache[id] = getActualBoundingClientRect(node);\n\n      // Clear the cache when this position call is done\n      defer(function () {\n        delete zeroPosCache[id];\n      });\n    }\n    return zeroPosCache[id];\n  };\n  function removeUtilElements() {\n    if (zeroElement) {\n      document.body.removeChild(zeroElement);\n    }\n    zeroElement = null;\n  }\n  ;\n  function getBounds(el) {\n    var doc = undefined;\n    if (el === document) {\n      doc = document;\n      el = document.documentElement;\n    } else {\n      doc = el.ownerDocument;\n    }\n    var docEl = doc.documentElement;\n    var box = getActualBoundingClientRect(el);\n    var origin = getOrigin();\n    box.top -= origin.top;\n    box.left -= origin.left;\n    if (typeof box.width === 'undefined') {\n      box.width = document.body.scrollWidth - box.left - box.right;\n    }\n    if (typeof box.height === 'undefined') {\n      box.height = document.body.scrollHeight - box.top - box.bottom;\n    }\n    box.top = box.top - docEl.clientTop;\n    box.left = box.left - docEl.clientLeft;\n    box.right = doc.body.clientWidth - box.width - box.left;\n    box.bottom = doc.body.clientHeight - box.height - box.top;\n    return box;\n  }\n  function getOffsetParent(el) {\n    return el.offsetParent || document.documentElement;\n  }\n  var _scrollBarSize = null;\n  function getScrollBarSize() {\n    if (_scrollBarSize) {\n      return _scrollBarSize;\n    }\n    var inner = document.createElement('div');\n    inner.style.width = '100%';\n    inner.style.height = '200px';\n    var outer = document.createElement('div');\n    extend(outer.style, {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      pointerEvents: 'none',\n      visibility: 'hidden',\n      width: '200px',\n      height: '150px',\n      overflow: 'hidden'\n    });\n    outer.appendChild(inner);\n    document.body.appendChild(outer);\n    var widthContained = inner.offsetWidth;\n    outer.style.overflow = 'scroll';\n    var widthScroll = inner.offsetWidth;\n    if (widthContained === widthScroll) {\n      widthScroll = outer.clientWidth;\n    }\n    document.body.removeChild(outer);\n    var width = widthContained - widthScroll;\n    _scrollBarSize = {\n      width: width,\n      height: width\n    };\n    return _scrollBarSize;\n  }\n  function extend() {\n    var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var args = [];\n    Array.prototype.push.apply(args, arguments);\n    args.slice(1).forEach(function (obj) {\n      if (obj) {\n        for (var key in obj) {\n          if ({}.hasOwnProperty.call(obj, key)) {\n            out[key] = obj[key];\n          }\n        }\n      }\n    });\n    return out;\n  }\n  function removeClass(el, name) {\n    if (typeof el.classList !== 'undefined') {\n      name.split(' ').forEach(function (cls) {\n        if (cls.trim()) {\n          el.classList.remove(cls);\n        }\n      });\n    } else {\n      var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\n      var className = getClassName(el).replace(regex, ' ');\n      setClassName(el, className);\n    }\n  }\n  function addClass(el, name) {\n    if (typeof el.classList !== 'undefined') {\n      name.split(' ').forEach(function (cls) {\n        if (cls.trim()) {\n          el.classList.add(cls);\n        }\n      });\n    } else {\n      removeClass(el, name);\n      var cls = getClassName(el) + (' ' + name);\n      setClassName(el, cls);\n    }\n  }\n  function hasClass(el, name) {\n    if (typeof el.classList !== 'undefined') {\n      return el.classList.contains(name);\n    }\n    var className = getClassName(el);\n    return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\n  }\n  function getClassName(el) {\n    // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\n    // completely separately SVGAnimatedString base classes\n    if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\n      return el.className.baseVal;\n    }\n    return el.className;\n  }\n  function setClassName(el, className) {\n    el.setAttribute('class', className);\n  }\n  function updateClasses(el, add, all) {\n    // Of the set of 'all' classes, we need the 'add' classes, and only the\n    // 'add' classes to be set.\n    all.forEach(function (cls) {\n      if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\n        removeClass(el, cls);\n      }\n    });\n    add.forEach(function (cls) {\n      if (!hasClass(el, cls)) {\n        addClass(el, cls);\n      }\n    });\n  }\n  var deferred = [];\n  var defer = function defer(fn) {\n    deferred.push(fn);\n  };\n  var flush = function flush() {\n    var fn = undefined;\n    while (fn = deferred.pop()) {\n      fn();\n    }\n  };\n  var Evented = function () {\n    function Evented() {\n      _classCallCheck(this, Evented);\n    }\n    _createClass(Evented, [{\n      key: 'on',\n      value: function on(event, handler, ctx) {\n        var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n        if (typeof this.bindings === 'undefined') {\n          this.bindings = {};\n        }\n        if (typeof this.bindings[event] === 'undefined') {\n          this.bindings[event] = [];\n        }\n        this.bindings[event].push({\n          handler: handler,\n          ctx: ctx,\n          once: once\n        });\n      }\n    }, {\n      key: 'once',\n      value: function once(event, handler, ctx) {\n        this.on(event, handler, ctx, true);\n      }\n    }, {\n      key: 'off',\n      value: function off(event, handler) {\n        if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\n          return;\n        }\n        if (typeof handler === 'undefined') {\n          delete this.bindings[event];\n        } else {\n          var i = 0;\n          while (i < this.bindings[event].length) {\n            if (this.bindings[event][i].handler === handler) {\n              this.bindings[event].splice(i, 1);\n            } else {\n              ++i;\n            }\n          }\n        }\n      }\n    }, {\n      key: 'trigger',\n      value: function trigger(event) {\n        if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\n          var i = 0;\n          for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n          while (i < this.bindings[event].length) {\n            var _bindings$event$i = this.bindings[event][i];\n            var handler = _bindings$event$i.handler;\n            var ctx = _bindings$event$i.ctx;\n            var once = _bindings$event$i.once;\n            var context = ctx;\n            if (typeof context === 'undefined') {\n              context = this;\n            }\n            handler.apply(context, args);\n            if (once) {\n              this.bindings[event].splice(i, 1);\n            } else {\n              ++i;\n            }\n          }\n        }\n      }\n    }]);\n    return Evented;\n  }();\n  TetherBase.Utils = {\n    getActualBoundingClientRect: getActualBoundingClientRect,\n    getScrollParents: getScrollParents,\n    getBounds: getBounds,\n    getOffsetParent: getOffsetParent,\n    extend: extend,\n    addClass: addClass,\n    removeClass: removeClass,\n    hasClass: hasClass,\n    updateClasses: updateClasses,\n    defer: defer,\n    flush: flush,\n    uniqueId: uniqueId,\n    Evented: Evented,\n    getScrollBarSize: getScrollBarSize,\n    removeUtilElements: removeUtilElements\n  };\n  /* globals TetherBase, performance */\n\n  'use strict';\n  var _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i['return']) _i['return']();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n      return _arr;\n    }\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n      }\n    };\n  }();\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ('value' in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n  var _get = function get(_x6, _x7, _x8) {\n    var _again = true;\n    _function: while (_again) {\n      var object = _x6,\n        property = _x7,\n        receiver = _x8;\n      _again = false;\n      if (object === null) object = Function.prototype;\n      var desc = Object.getOwnPropertyDescriptor(object, property);\n      if (desc === undefined) {\n        var parent = Object.getPrototypeOf(object);\n        if (parent === null) {\n          return undefined;\n        } else {\n          _x6 = parent;\n          _x7 = property;\n          _x8 = receiver;\n          _again = true;\n          desc = parent = undefined;\n          continue _function;\n        }\n      } else if ('value' in desc) {\n        return desc.value;\n      } else {\n        var getter = desc.get;\n        if (getter === undefined) {\n          return undefined;\n        }\n        return getter.call(receiver);\n      }\n    }\n  };\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n  if (typeof TetherBase === 'undefined') {\n    throw new Error('You must include the utils.js file before tether.js');\n  }\n  var _TetherBase$Utils = TetherBase.Utils;\n  var getScrollParents = _TetherBase$Utils.getScrollParents;\n  var getBounds = _TetherBase$Utils.getBounds;\n  var getOffsetParent = _TetherBase$Utils.getOffsetParent;\n  var extend = _TetherBase$Utils.extend;\n  var addClass = _TetherBase$Utils.addClass;\n  var removeClass = _TetherBase$Utils.removeClass;\n  var updateClasses = _TetherBase$Utils.updateClasses;\n  var defer = _TetherBase$Utils.defer;\n  var flush = _TetherBase$Utils.flush;\n  var getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\n  var removeUtilElements = _TetherBase$Utils.removeUtilElements;\n  function within(a, b) {\n    var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n    return a + diff >= b && b >= a - diff;\n  }\n  var transformKey = function () {\n    if (typeof document === 'undefined') {\n      return '';\n    }\n    var el = document.createElement('div');\n    var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n    for (var i = 0; i < transforms.length; ++i) {\n      var key = transforms[i];\n      if (el.style[key] !== undefined) {\n        return key;\n      }\n    }\n  }();\n  var tethers = [];\n  var position = function position() {\n    tethers.forEach(function (tether) {\n      tether.position(false);\n    });\n    flush();\n  };\n  function now() {\n    if (typeof performance === 'object' && typeof performance.now === 'function') {\n      return performance.now();\n    }\n    return +new Date();\n  }\n  (function () {\n    var lastCall = null;\n    var lastDuration = null;\n    var pendingTimeout = null;\n    var tick = function tick() {\n      if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n        // We voluntarily throttle ourselves if we can't manage 60fps\n        lastDuration = Math.min(lastDuration - 16, 250);\n\n        // Just in case this is the last event, remember to position just once more\n        pendingTimeout = setTimeout(tick, 250);\n        return;\n      }\n      if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\n        // Some browsers call events a little too frequently, refuse to run more than is reasonable\n        return;\n      }\n      if (pendingTimeout != null) {\n        clearTimeout(pendingTimeout);\n        pendingTimeout = null;\n      }\n      lastCall = now();\n      position();\n      lastDuration = now() - lastCall;\n    };\n    if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n      ['resize', 'scroll', 'touchmove'].forEach(function (event) {\n        window.addEventListener(event, tick);\n      });\n    }\n  })();\n  var MIRROR_LR = {\n    center: 'center',\n    left: 'right',\n    right: 'left'\n  };\n  var MIRROR_TB = {\n    middle: 'middle',\n    top: 'bottom',\n    bottom: 'top'\n  };\n  var OFFSET_MAP = {\n    top: 0,\n    left: 0,\n    middle: '50%',\n    center: '50%',\n    bottom: '100%',\n    right: '100%'\n  };\n  var autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\n    var left = attachment.left;\n    var top = attachment.top;\n    if (left === 'auto') {\n      left = MIRROR_LR[relativeToAttachment.left];\n    }\n    if (top === 'auto') {\n      top = MIRROR_TB[relativeToAttachment.top];\n    }\n    return {\n      left: left,\n      top: top\n    };\n  };\n  var attachmentToOffset = function attachmentToOffset(attachment) {\n    var left = attachment.left;\n    var top = attachment.top;\n    if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n      left = OFFSET_MAP[attachment.left];\n    }\n    if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n      top = OFFSET_MAP[attachment.top];\n    }\n    return {\n      left: left,\n      top: top\n    };\n  };\n  function addOffset() {\n    var out = {\n      top: 0,\n      left: 0\n    };\n    for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\n      offsets[_key] = arguments[_key];\n    }\n    offsets.forEach(function (_ref) {\n      var top = _ref.top;\n      var left = _ref.left;\n      if (typeof top === 'string') {\n        top = parseFloat(top, 10);\n      }\n      if (typeof left === 'string') {\n        left = parseFloat(left, 10);\n      }\n      out.top += top;\n      out.left += left;\n    });\n    return out;\n  }\n  function offsetToPx(offset, size) {\n    if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n      offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n    }\n    if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n      offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n    }\n    return offset;\n  }\n  var parseOffset = function parseOffset(value) {\n    var _value$split = value.split(' ');\n    var _value$split2 = _slicedToArray(_value$split, 2);\n    var top = _value$split2[0];\n    var left = _value$split2[1];\n    return {\n      top: top,\n      left: left\n    };\n  };\n  var parseAttachment = parseOffset;\n  var TetherClass = function (_Evented) {\n    _inherits(TetherClass, _Evented);\n    function TetherClass(options) {\n      var _this = this;\n      _classCallCheck(this, TetherClass);\n      _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\n      this.position = this.position.bind(this);\n      tethers.push(this);\n      this.history = [];\n      this.setOptions(options, false);\n      TetherBase.modules.forEach(function (module) {\n        if (typeof module.initialize !== 'undefined') {\n          module.initialize.call(_this);\n        }\n      });\n      this.position();\n    }\n    _createClass(TetherClass, [{\n      key: 'getClass',\n      value: function getClass() {\n        var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n        var classes = this.options.classes;\n        if (typeof classes !== 'undefined' && classes[key]) {\n          return this.options.classes[key];\n        } else if (this.options.classPrefix) {\n          return this.options.classPrefix + '-' + key;\n        } else {\n          return key;\n        }\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        var _this2 = this;\n        var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n        var defaults = {\n          offset: '0 0',\n          targetOffset: '0 0',\n          targetAttachment: 'auto auto',\n          classPrefix: 'tether'\n        };\n        this.options = extend(defaults, options);\n        var _options = this.options;\n        var element = _options.element;\n        var target = _options.target;\n        var targetModifier = _options.targetModifier;\n        this.element = element;\n        this.target = target;\n        this.targetModifier = targetModifier;\n        if (this.target === 'viewport') {\n          this.target = document.body;\n          this.targetModifier = 'visible';\n        } else if (this.target === 'scroll-handle') {\n          this.target = document.body;\n          this.targetModifier = 'scroll-handle';\n        }\n        ['element', 'target'].forEach(function (key) {\n          if (typeof _this2[key] === 'undefined') {\n            throw new Error('Tether Error: Both element and target must be defined');\n          }\n          if (typeof _this2[key].jquery !== 'undefined') {\n            _this2[key] = _this2[key][0];\n          } else if (typeof _this2[key] === 'string') {\n            _this2[key] = document.querySelector(_this2[key]);\n          }\n        });\n        addClass(this.element, this.getClass('element'));\n        if (!(this.options.addTargetClasses === false)) {\n          addClass(this.target, this.getClass('target'));\n        }\n        if (!this.options.attachment) {\n          throw new Error('Tether Error: You must provide an attachment');\n        }\n        this.targetAttachment = parseAttachment(this.options.targetAttachment);\n        this.attachment = parseAttachment(this.options.attachment);\n        this.offset = parseOffset(this.options.offset);\n        this.targetOffset = parseOffset(this.options.targetOffset);\n        if (typeof this.scrollParents !== 'undefined') {\n          this.disable();\n        }\n        if (this.targetModifier === 'scroll-handle') {\n          this.scrollParents = [this.target];\n        } else {\n          this.scrollParents = getScrollParents(this.target);\n        }\n        if (!(this.options.enabled === false)) {\n          this.enable(pos);\n        }\n      }\n    }, {\n      key: 'getTargetBounds',\n      value: function getTargetBounds() {\n        if (typeof this.targetModifier !== 'undefined') {\n          if (this.targetModifier === 'visible') {\n            if (this.target === document.body) {\n              return {\n                top: pageYOffset,\n                left: pageXOffset,\n                height: innerHeight,\n                width: innerWidth\n              };\n            } else {\n              var bounds = getBounds(this.target);\n              var out = {\n                height: bounds.height,\n                width: bounds.width,\n                top: bounds.top,\n                left: bounds.left\n              };\n              out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n              out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\n              out.height = Math.min(innerHeight, out.height);\n              out.height -= 2;\n              out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n              out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\n              out.width = Math.min(innerWidth, out.width);\n              out.width -= 2;\n              if (out.top < pageYOffset) {\n                out.top = pageYOffset;\n              }\n              if (out.left < pageXOffset) {\n                out.left = pageXOffset;\n              }\n              return out;\n            }\n          } else if (this.targetModifier === 'scroll-handle') {\n            var bounds = undefined;\n            var target = this.target;\n            if (target === document.body) {\n              target = document.documentElement;\n              bounds = {\n                left: pageXOffset,\n                top: pageYOffset,\n                height: innerHeight,\n                width: innerWidth\n              };\n            } else {\n              bounds = getBounds(target);\n            }\n            var style = getComputedStyle(target);\n            var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\n            var scrollBottom = 0;\n            if (hasBottomScroll) {\n              scrollBottom = 15;\n            }\n            var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n            var out = {\n              width: 15,\n              height: height * 0.975 * (height / target.scrollHeight),\n              left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n            };\n            var fitAdj = 0;\n            if (height < 408 && this.target === document.body) {\n              fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n            }\n            if (this.target !== document.body) {\n              out.height = Math.max(out.height, 24);\n            }\n            var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n            out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n            if (this.target === document.body) {\n              out.height = Math.max(out.height, 24);\n            }\n            return out;\n          }\n        } else {\n          return getBounds(this.target);\n        }\n      }\n    }, {\n      key: 'clearCache',\n      value: function clearCache() {\n        this._cache = {};\n      }\n    }, {\n      key: 'cache',\n      value: function cache(k, getter) {\n        // More than one module will often need the same DOM info, so\n        // we keep a cache which is cleared on each position call\n        if (typeof this._cache === 'undefined') {\n          this._cache = {};\n        }\n        if (typeof this._cache[k] === 'undefined') {\n          this._cache[k] = getter.call(this);\n        }\n        return this._cache[k];\n      }\n    }, {\n      key: 'enable',\n      value: function enable() {\n        var _this3 = this;\n        var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n        if (!(this.options.addTargetClasses === false)) {\n          addClass(this.target, this.getClass('enabled'));\n        }\n        addClass(this.element, this.getClass('enabled'));\n        this.enabled = true;\n        this.scrollParents.forEach(function (parent) {\n          if (parent !== _this3.target.ownerDocument) {\n            parent.addEventListener('scroll', _this3.position);\n          }\n        });\n        if (pos) {\n          this.position();\n        }\n      }\n    }, {\n      key: 'disable',\n      value: function disable() {\n        var _this4 = this;\n        removeClass(this.target, this.getClass('enabled'));\n        removeClass(this.element, this.getClass('enabled'));\n        this.enabled = false;\n        if (typeof this.scrollParents !== 'undefined') {\n          this.scrollParents.forEach(function (parent) {\n            parent.removeEventListener('scroll', _this4.position);\n          });\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        var _this5 = this;\n        this.disable();\n        tethers.forEach(function (tether, i) {\n          if (tether === _this5) {\n            tethers.splice(i, 1);\n          }\n        });\n\n        // Remove any elements we were using for convenience from the DOM\n        if (tethers.length === 0) {\n          removeUtilElements();\n        }\n      }\n    }, {\n      key: 'updateAttachClasses',\n      value: function updateAttachClasses(elementAttach, targetAttach) {\n        var _this6 = this;\n        elementAttach = elementAttach || this.attachment;\n        targetAttach = targetAttach || this.targetAttachment;\n        var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n        if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n          // updateAttachClasses can be called more than once in a position call, so\n          // we need to clean up after ourselves such that when the last defer gets\n          // ran it doesn't add any extra classes from previous calls.\n          this._addAttachClasses.splice(0, this._addAttachClasses.length);\n        }\n        if (typeof this._addAttachClasses === 'undefined') {\n          this._addAttachClasses = [];\n        }\n        var add = this._addAttachClasses;\n        if (elementAttach.top) {\n          add.push(this.getClass('element-attached') + '-' + elementAttach.top);\n        }\n        if (elementAttach.left) {\n          add.push(this.getClass('element-attached') + '-' + elementAttach.left);\n        }\n        if (targetAttach.top) {\n          add.push(this.getClass('target-attached') + '-' + targetAttach.top);\n        }\n        if (targetAttach.left) {\n          add.push(this.getClass('target-attached') + '-' + targetAttach.left);\n        }\n        var all = [];\n        sides.forEach(function (side) {\n          all.push(_this6.getClass('element-attached') + '-' + side);\n          all.push(_this6.getClass('target-attached') + '-' + side);\n        });\n        defer(function () {\n          if (!(typeof _this6._addAttachClasses !== 'undefined')) {\n            return;\n          }\n          updateClasses(_this6.element, _this6._addAttachClasses, all);\n          if (!(_this6.options.addTargetClasses === false)) {\n            updateClasses(_this6.target, _this6._addAttachClasses, all);\n          }\n          delete _this6._addAttachClasses;\n        });\n      }\n    }, {\n      key: 'position',\n      value: function position() {\n        var _this7 = this;\n        var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n        // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n        // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n        if (!this.enabled) {\n          return;\n        }\n        this.clearCache();\n\n        // Turn 'auto' attachments into the appropriate corner or edge\n        var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n        this.updateAttachClasses(this.attachment, targetAttachment);\n        var elementPos = this.cache('element-bounds', function () {\n          return getBounds(_this7.element);\n        });\n        var width = elementPos.width;\n        var height = elementPos.height;\n        if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n          var _lastSize = this.lastSize;\n\n          // We cache the height and width to make it possible to position elements that are\n          // getting hidden.\n          width = _lastSize.width;\n          height = _lastSize.height;\n        } else {\n          this.lastSize = {\n            width: width,\n            height: height\n          };\n        }\n        var targetPos = this.cache('target-bounds', function () {\n          return _this7.getTargetBounds();\n        });\n        var targetSize = targetPos;\n\n        // Get an actual px offset from the attachment\n        var offset = offsetToPx(attachmentToOffset(this.attachment), {\n          width: width,\n          height: height\n        });\n        var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n        var manualOffset = offsetToPx(this.offset, {\n          width: width,\n          height: height\n        });\n        var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n        // Add the manually provided offset\n        offset = addOffset(offset, manualOffset);\n        targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n        // It's now our goal to make (element position + offset) == (target position + target offset)\n        var left = targetPos.left + targetOffset.left - offset.left;\n        var top = targetPos.top + targetOffset.top - offset.top;\n        for (var i = 0; i < TetherBase.modules.length; ++i) {\n          var _module2 = TetherBase.modules[i];\n          var ret = _module2.position.call(this, {\n            left: left,\n            top: top,\n            targetAttachment: targetAttachment,\n            targetPos: targetPos,\n            elementPos: elementPos,\n            offset: offset,\n            targetOffset: targetOffset,\n            manualOffset: manualOffset,\n            manualTargetOffset: manualTargetOffset,\n            scrollbarSize: scrollbarSize,\n            attachment: this.attachment\n          });\n          if (ret === false) {\n            return false;\n          } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n            continue;\n          } else {\n            top = ret.top;\n            left = ret.left;\n          }\n        }\n\n        // We describe the position three different ways to give the optimizer\n        // a chance to decide the best possible way to position the element\n        // with the fewest repaints.\n        var next = {\n          // It's position relative to the page (absolute positioning when\n          // the element is a child of the body)\n          page: {\n            top: top,\n            left: left\n          },\n          // It's position relative to the viewport (fixed positioning)\n          viewport: {\n            top: top - pageYOffset,\n            bottom: pageYOffset - top - height + innerHeight,\n            left: left - pageXOffset,\n            right: pageXOffset - left - width + innerWidth\n          }\n        };\n        var doc = this.target.ownerDocument;\n        var win = doc.defaultView;\n        var scrollbarSize = undefined;\n        if (win.innerHeight > doc.documentElement.clientHeight) {\n          scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n          next.viewport.bottom -= scrollbarSize.height;\n        }\n        if (win.innerWidth > doc.documentElement.clientWidth) {\n          scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n          next.viewport.right -= scrollbarSize.width;\n        }\n        if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n          // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n          next.page.bottom = doc.body.scrollHeight - top - height;\n          next.page.right = doc.body.scrollWidth - left - width;\n        }\n        if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\n          (function () {\n            var offsetParent = _this7.cache('target-offsetparent', function () {\n              return getOffsetParent(_this7.target);\n            });\n            var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\n              return getBounds(offsetParent);\n            });\n            var offsetParentStyle = getComputedStyle(offsetParent);\n            var offsetParentSize = offsetPosition;\n            var offsetBorder = {};\n            ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\n              offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\n            });\n            offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n            offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n            if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\n              if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\n                // We're within the visible part of the target's scroll parent\n                var scrollTop = offsetParent.scrollTop;\n                var scrollLeft = offsetParent.scrollLeft;\n\n                // It's position relative to the target's offset parent (absolute positioning when\n                // the element is moved to be a child of the target's offset parent).\n                next.offset = {\n                  top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                  left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n                };\n              }\n            }\n          })();\n        }\n\n        // We could also travel up the DOM and try each containing context, rather than only\n        // looking at the body, but we're gonna get diminishing returns.\n\n        this.move(next);\n        this.history.unshift(next);\n        if (this.history.length > 3) {\n          this.history.pop();\n        }\n        if (flushChanges) {\n          flush();\n        }\n        return true;\n      }\n\n      // THE ISSUE\n    }, {\n      key: 'move',\n      value: function move(pos) {\n        var _this8 = this;\n        if (!(typeof this.element.parentNode !== 'undefined')) {\n          return;\n        }\n        var same = {};\n        for (var type in pos) {\n          same[type] = {};\n          for (var key in pos[type]) {\n            var found = false;\n            for (var i = 0; i < this.history.length; ++i) {\n              var point = this.history[i];\n              if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\n                found = true;\n                break;\n              }\n            }\n            if (!found) {\n              same[type][key] = true;\n            }\n          }\n        }\n        var css = {\n          top: '',\n          left: '',\n          right: '',\n          bottom: ''\n        };\n        var transcribe = function transcribe(_same, _pos) {\n          var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\n          var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\n          if (gpu !== false) {\n            var yPos = undefined,\n              xPos = undefined;\n            if (_same.top) {\n              css.top = 0;\n              yPos = _pos.top;\n            } else {\n              css.bottom = 0;\n              yPos = -_pos.bottom;\n            }\n            if (_same.left) {\n              css.left = 0;\n              xPos = _pos.left;\n            } else {\n              css.right = 0;\n              xPos = -_pos.right;\n            }\n            if (typeof window.devicePixelRatio === 'number' && devicePixelRatio % 1 === 0) {\n              xPos = Math.round(xPos * devicePixelRatio) / devicePixelRatio;\n              yPos = Math.round(yPos * devicePixelRatio) / devicePixelRatio;\n            }\n            css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\n            if (transformKey !== 'msTransform') {\n              // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n              // but IE9 doesn't support 3d transforms and will choke.\n              css[transformKey] += \" translateZ(0)\";\n            }\n          } else {\n            if (_same.top) {\n              css.top = _pos.top + 'px';\n            } else {\n              css.bottom = _pos.bottom + 'px';\n            }\n            if (_same.left) {\n              css.left = _pos.left + 'px';\n            } else {\n              css.right = _pos.right + 'px';\n            }\n          }\n        };\n        var moved = false;\n        if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n          css.position = 'absolute';\n          transcribe(same.page, pos.page);\n        } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n          css.position = 'fixed';\n          transcribe(same.viewport, pos.viewport);\n        } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n          (function () {\n            css.position = 'absolute';\n            var offsetParent = _this8.cache('target-offsetparent', function () {\n              return getOffsetParent(_this8.target);\n            });\n            if (getOffsetParent(_this8.element) !== offsetParent) {\n              defer(function () {\n                _this8.element.parentNode.removeChild(_this8.element);\n                offsetParent.appendChild(_this8.element);\n              });\n            }\n            transcribe(same.offset, pos.offset);\n            moved = true;\n          })();\n        } else {\n          css.position = 'absolute';\n          transcribe({\n            top: true,\n            left: true\n          }, pos.page);\n        }\n        if (!moved) {\n          if (this.options.bodyElement) {\n            if (this.element.parentNode !== this.options.bodyElement) {\n              this.options.bodyElement.appendChild(this.element);\n            }\n          } else {\n            var isFullscreenElement = function isFullscreenElement(e) {\n              var d = e.ownerDocument;\n              var fe = d.fullscreenElement || d.webkitFullscreenElement || d.mozFullScreenElement || d.msFullscreenElement;\n              return fe === e;\n            };\n            var offsetParentIsBody = true;\n            var currentNode = this.element.parentNode;\n            while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY' && !isFullscreenElement(currentNode)) {\n              if (getComputedStyle(currentNode).position !== 'static') {\n                offsetParentIsBody = false;\n                break;\n              }\n              currentNode = currentNode.parentNode;\n            }\n            if (!offsetParentIsBody) {\n              this.element.parentNode.removeChild(this.element);\n              this.element.ownerDocument.body.appendChild(this.element);\n            }\n          }\n        }\n\n        // Any css change will trigger a repaint, so let's avoid one if nothing changed\n        var writeCSS = {};\n        var write = false;\n        for (var key in css) {\n          var val = css[key];\n          var elVal = this.element.style[key];\n          if (elVal !== val) {\n            write = true;\n            writeCSS[key] = val;\n          }\n        }\n        if (write) {\n          defer(function () {\n            extend(_this8.element.style, writeCSS);\n            _this8.trigger('repositioned');\n          });\n        }\n      }\n    }]);\n    return TetherClass;\n  }(Evented);\n  TetherClass.modules = [];\n  TetherBase.position = position;\n  var Tether = extend(TetherClass, TetherBase);\n  /* globals TetherBase */\n\n  'use strict';\n  var _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i['return']) _i['return']();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n      return _arr;\n    }\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n      }\n    };\n  }();\n  var _TetherBase$Utils = TetherBase.Utils;\n  var getBounds = _TetherBase$Utils.getBounds;\n  var extend = _TetherBase$Utils.extend;\n  var updateClasses = _TetherBase$Utils.updateClasses;\n  var defer = _TetherBase$Utils.defer;\n  var BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n  function getBoundingRect(tether, to) {\n    if (to === 'scrollParent') {\n      to = tether.scrollParents[0];\n    } else if (to === 'window') {\n      to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n    }\n    if (to === document) {\n      to = to.documentElement;\n    }\n    if (typeof to.nodeType !== 'undefined') {\n      (function () {\n        var node = to;\n        var size = getBounds(to);\n        var pos = size;\n        var style = getComputedStyle(to);\n        to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n        // Account any parent Frames scroll offset\n        if (node.ownerDocument !== document) {\n          var win = node.ownerDocument.defaultView;\n          to[0] += win.pageXOffset;\n          to[1] += win.pageYOffset;\n          to[2] += win.pageXOffset;\n          to[3] += win.pageYOffset;\n        }\n        BOUNDS_FORMAT.forEach(function (side, i) {\n          side = side[0].toUpperCase() + side.substr(1);\n          if (side === 'Top' || side === 'Left') {\n            to[i] += parseFloat(style['border' + side + 'Width']);\n          } else {\n            to[i] -= parseFloat(style['border' + side + 'Width']);\n          }\n        });\n      })();\n    }\n    return to;\n  }\n  TetherBase.modules.push({\n    position: function position(_ref) {\n      var _this = this;\n      var top = _ref.top;\n      var left = _ref.left;\n      var targetAttachment = _ref.targetAttachment;\n      if (!this.options.constraints) {\n        return true;\n      }\n      var _cache = this.cache('element-bounds', function () {\n        return getBounds(_this.element);\n      });\n      var height = _cache.height;\n      var width = _cache.width;\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n        var _lastSize = this.lastSize;\n\n        // Handle the item getting hidden as a result of our positioning without glitching\n        // the classes in and out\n        width = _lastSize.width;\n        height = _lastSize.height;\n      }\n      var targetSize = this.cache('target-bounds', function () {\n        return _this.getTargetBounds();\n      });\n      var targetHeight = targetSize.height;\n      var targetWidth = targetSize.width;\n      var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n      this.options.constraints.forEach(function (constraint) {\n        var outOfBoundsClass = constraint.outOfBoundsClass;\n        var pinnedClass = constraint.pinnedClass;\n        if (outOfBoundsClass) {\n          allClasses.push(outOfBoundsClass);\n        }\n        if (pinnedClass) {\n          allClasses.push(pinnedClass);\n        }\n      });\n      allClasses.forEach(function (cls) {\n        ['left', 'top', 'right', 'bottom'].forEach(function (side) {\n          allClasses.push(cls + '-' + side);\n        });\n      });\n      var addClasses = [];\n      var tAttachment = extend({}, targetAttachment);\n      var eAttachment = extend({}, this.attachment);\n      this.options.constraints.forEach(function (constraint) {\n        var to = constraint.to;\n        var attachment = constraint.attachment;\n        var pin = constraint.pin;\n        if (typeof attachment === 'undefined') {\n          attachment = '';\n        }\n        var changeAttachX = undefined,\n          changeAttachY = undefined;\n        if (attachment.indexOf(' ') >= 0) {\n          var _attachment$split = attachment.split(' ');\n          var _attachment$split2 = _slicedToArray(_attachment$split, 2);\n          changeAttachY = _attachment$split2[0];\n          changeAttachX = _attachment$split2[1];\n        } else {\n          changeAttachX = changeAttachY = attachment;\n        }\n        var bounds = getBoundingRect(_this, to);\n        if (changeAttachY === 'target' || changeAttachY === 'both') {\n          if (top < bounds[1] && tAttachment.top === 'top') {\n            top += targetHeight;\n            tAttachment.top = 'bottom';\n          }\n          if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n            top -= targetHeight;\n            tAttachment.top = 'top';\n          }\n        }\n        if (changeAttachY === 'together') {\n          if (tAttachment.top === 'top') {\n            if (eAttachment.top === 'bottom' && top < bounds[1]) {\n              top += targetHeight;\n              tAttachment.top = 'bottom';\n              top += height;\n              eAttachment.top = 'top';\n            } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n              top -= height - targetHeight;\n              tAttachment.top = 'bottom';\n              eAttachment.top = 'bottom';\n            }\n          }\n          if (tAttachment.top === 'bottom') {\n            if (eAttachment.top === 'top' && top + height > bounds[3]) {\n              top -= targetHeight;\n              tAttachment.top = 'top';\n              top -= height;\n              eAttachment.top = 'bottom';\n            } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n              top += height - targetHeight;\n              tAttachment.top = 'top';\n              eAttachment.top = 'top';\n            }\n          }\n          if (tAttachment.top === 'middle') {\n            if (top + height > bounds[3] && eAttachment.top === 'top') {\n              top -= height;\n              eAttachment.top = 'bottom';\n            } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n              top += height;\n              eAttachment.top = 'top';\n            }\n          }\n        }\n        if (changeAttachX === 'target' || changeAttachX === 'both') {\n          if (left < bounds[0] && tAttachment.left === 'left') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n          }\n          if (left + width > bounds[2] && tAttachment.left === 'right') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n          }\n        }\n        if (changeAttachX === 'together') {\n          if (left < bounds[0] && tAttachment.left === 'left') {\n            if (eAttachment.left === 'right') {\n              left += targetWidth;\n              tAttachment.left = 'right';\n              left += width;\n              eAttachment.left = 'left';\n            } else if (eAttachment.left === 'left') {\n              left += targetWidth;\n              tAttachment.left = 'right';\n              left -= width;\n              eAttachment.left = 'right';\n            }\n          } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n            if (eAttachment.left === 'left') {\n              left -= targetWidth;\n              tAttachment.left = 'left';\n              left -= width;\n              eAttachment.left = 'right';\n            } else if (eAttachment.left === 'right') {\n              left -= targetWidth;\n              tAttachment.left = 'left';\n              left += width;\n              eAttachment.left = 'left';\n            }\n          } else if (tAttachment.left === 'center') {\n            if (left + width > bounds[2] && eAttachment.left === 'left') {\n              left -= width;\n              eAttachment.left = 'right';\n            } else if (left < bounds[0] && eAttachment.left === 'right') {\n              left += width;\n              eAttachment.left = 'left';\n            }\n          }\n        }\n        if (changeAttachY === 'element' || changeAttachY === 'both') {\n          if (top < bounds[1] && eAttachment.top === 'bottom') {\n            top += height;\n            eAttachment.top = 'top';\n          }\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\n            top -= height;\n            eAttachment.top = 'bottom';\n          }\n        }\n        if (changeAttachX === 'element' || changeAttachX === 'both') {\n          if (left < bounds[0]) {\n            if (eAttachment.left === 'right') {\n              left += width;\n              eAttachment.left = 'left';\n            } else if (eAttachment.left === 'center') {\n              left += width / 2;\n              eAttachment.left = 'left';\n            }\n          }\n          if (left + width > bounds[2]) {\n            if (eAttachment.left === 'left') {\n              left -= width;\n              eAttachment.left = 'right';\n            } else if (eAttachment.left === 'center') {\n              left -= width / 2;\n              eAttachment.left = 'right';\n            }\n          }\n        }\n        if (typeof pin === 'string') {\n          pin = pin.split(',').map(function (p) {\n            return p.trim();\n          });\n        } else if (pin === true) {\n          pin = ['top', 'left', 'right', 'bottom'];\n        }\n        pin = pin || [];\n        var pinned = [];\n        var oob = [];\n        if (top < bounds[1]) {\n          if (pin.indexOf('top') >= 0) {\n            top = bounds[1];\n            pinned.push('top');\n          } else {\n            oob.push('top');\n          }\n        }\n        if (top + height > bounds[3]) {\n          if (pin.indexOf('bottom') >= 0) {\n            top = bounds[3] - height;\n            pinned.push('bottom');\n          } else {\n            oob.push('bottom');\n          }\n        }\n        if (left < bounds[0]) {\n          if (pin.indexOf('left') >= 0) {\n            left = bounds[0];\n            pinned.push('left');\n          } else {\n            oob.push('left');\n          }\n        }\n        if (left + width > bounds[2]) {\n          if (pin.indexOf('right') >= 0) {\n            left = bounds[2] - width;\n            pinned.push('right');\n          } else {\n            oob.push('right');\n          }\n        }\n        if (pinned.length) {\n          (function () {\n            var pinnedClass = undefined;\n            if (typeof _this.options.pinnedClass !== 'undefined') {\n              pinnedClass = _this.options.pinnedClass;\n            } else {\n              pinnedClass = _this.getClass('pinned');\n            }\n            addClasses.push(pinnedClass);\n            pinned.forEach(function (side) {\n              addClasses.push(pinnedClass + '-' + side);\n            });\n          })();\n        }\n        if (oob.length) {\n          (function () {\n            var oobClass = undefined;\n            if (typeof _this.options.outOfBoundsClass !== 'undefined') {\n              oobClass = _this.options.outOfBoundsClass;\n            } else {\n              oobClass = _this.getClass('out-of-bounds');\n            }\n            addClasses.push(oobClass);\n            oob.forEach(function (side) {\n              addClasses.push(oobClass + '-' + side);\n            });\n          })();\n        }\n        if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n          eAttachment.left = tAttachment.left = false;\n        }\n        if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n          eAttachment.top = tAttachment.top = false;\n        }\n        if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\n          _this.updateAttachClasses(eAttachment, tAttachment);\n          _this.trigger('update', {\n            attachment: eAttachment,\n            targetAttachment: tAttachment\n          });\n        }\n      });\n      defer(function () {\n        if (!(_this.options.addTargetClasses === false)) {\n          updateClasses(_this.target, addClasses, allClasses);\n        }\n        updateClasses(_this.element, addClasses, allClasses);\n      });\n      return {\n        top: top,\n        left: left\n      };\n    }\n  });\n  /* globals TetherBase */\n\n  'use strict';\n  var _TetherBase$Utils = TetherBase.Utils;\n  var getBounds = _TetherBase$Utils.getBounds;\n  var updateClasses = _TetherBase$Utils.updateClasses;\n  var defer = _TetherBase$Utils.defer;\n  TetherBase.modules.push({\n    position: function position(_ref) {\n      var _this = this;\n      var top = _ref.top;\n      var left = _ref.left;\n      var _cache = this.cache('element-bounds', function () {\n        return getBounds(_this.element);\n      });\n      var height = _cache.height;\n      var width = _cache.width;\n      var targetPos = this.getTargetBounds();\n      var bottom = top + height;\n      var right = left + width;\n      var abutted = [];\n      if (top <= targetPos.bottom && bottom >= targetPos.top) {\n        ['left', 'right'].forEach(function (side) {\n          var targetPosSide = targetPos[side];\n          if (targetPosSide === left || targetPosSide === right) {\n            abutted.push(side);\n          }\n        });\n      }\n      if (left <= targetPos.right && right >= targetPos.left) {\n        ['top', 'bottom'].forEach(function (side) {\n          var targetPosSide = targetPos[side];\n          if (targetPosSide === top || targetPosSide === bottom) {\n            abutted.push(side);\n          }\n        });\n      }\n      var allClasses = [];\n      var addClasses = [];\n      var sides = ['left', 'top', 'right', 'bottom'];\n      allClasses.push(this.getClass('abutted'));\n      sides.forEach(function (side) {\n        allClasses.push(_this.getClass('abutted') + '-' + side);\n      });\n      if (abutted.length) {\n        addClasses.push(this.getClass('abutted'));\n      }\n      abutted.forEach(function (side) {\n        addClasses.push(_this.getClass('abutted') + '-' + side);\n      });\n      defer(function () {\n        if (!(_this.options.addTargetClasses === false)) {\n          updateClasses(_this.target, addClasses, allClasses);\n        }\n        updateClasses(_this.element, addClasses, allClasses);\n      });\n      return true;\n    }\n  });\n  /* globals TetherBase */\n\n  'use strict';\n  var _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i['return']) _i['return']();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n      return _arr;\n    }\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n      }\n    };\n  }();\n  TetherBase.modules.push({\n    position: function position(_ref) {\n      var top = _ref.top;\n      var left = _ref.left;\n      if (!this.options.shift) {\n        return;\n      }\n      var shift = this.options.shift;\n      if (typeof this.options.shift === 'function') {\n        shift = this.options.shift.call(this, {\n          top: top,\n          left: left\n        });\n      }\n      var shiftTop = undefined,\n        shiftLeft = undefined;\n      if (typeof shift === 'string') {\n        shift = shift.split(' ');\n        shift[1] = shift[1] || shift[0];\n        var _shift = shift;\n        var _shift2 = _slicedToArray(_shift, 2);\n        shiftTop = _shift2[0];\n        shiftLeft = _shift2[1];\n        shiftTop = parseFloat(shiftTop, 10);\n        shiftLeft = parseFloat(shiftLeft, 10);\n      } else {\n        shiftTop = shift.top;\n        shiftLeft = shift.left;\n      }\n      top += shiftTop;\n      left += shiftLeft;\n      return {\n        top: top,\n        left: left\n      };\n    }\n  });\n  return Tether;\n});","map":{"version":3,"names":["root","factory","define","amd","exports","module","Tether","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","TetherBase","undefined","modules","zeroElement","getActualBoundingClientRect","node","boundingRect","getBoundingClientRect","rect","k","ownerDocument","document","_frameElement","defaultView","frameElement","frameRect","top","bottom","left","right","err","getScrollParents","el","computedStyle","getComputedStyle","position","parents","parent","parentNode","nodeType","style","push","_style","overflow","overflowX","overflowY","test","indexOf","body","uniqueId","id","zeroPosCache","getOrigin","contains","createElement","setAttribute","extend","appendChild","getAttribute","defer","removeUtilElements","removeChild","getBounds","doc","documentElement","docEl","box","origin","width","scrollWidth","height","scrollHeight","clientTop","clientLeft","clientWidth","clientHeight","getOffsetParent","offsetParent","_scrollBarSize","getScrollBarSize","inner","outer","pointerEvents","visibility","widthContained","offsetWidth","widthScroll","out","arguments","args","Array","apply","slice","forEach","obj","hasOwnProperty","call","removeClass","name","classList","split","cls","trim","remove","regex","RegExp","join","className","getClassName","replace","setClassName","addClass","add","hasClass","SVGAnimatedString","baseVal","updateClasses","all","deferred","fn","flush","pop","Evented","value","on","event","handler","ctx","once","bindings","off","splice","trigger","_len","_key","_bindings$event$i","context","Utils","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","isArray","_get","get","_x6","_x7","_x8","_again","_function","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Error","_TetherBase$Utils","within","a","b","diff","transformKey","transforms","tethers","tether","now","performance","Date","lastCall","lastDuration","pendingTimeout","tick","Math","min","setTimeout","clearTimeout","window","addEventListener","MIRROR_LR","center","MIRROR_TB","middle","OFFSET_MAP","autoToFixedAttachment","attachment","relativeToAttachment","attachmentToOffset","addOffset","offsets","_ref","parseFloat","offsetToPx","offset","size","parseOffset","_value$split","_value$split2","parseAttachment","TetherClass","_Evented","options","_this","bind","history","setOptions","initialize","getClass","classes","classPrefix","_this2","pos","defaults","targetOffset","targetAttachment","_options","element","targetModifier","jquery","querySelector","addTargetClasses","scrollParents","disable","enabled","enable","getTargetBounds","pageYOffset","pageXOffset","innerHeight","innerWidth","bounds","hasBottomScroll","scrollBottom","borderTopWidth","borderBottomWidth","borderLeftWidth","fitAdj","pow","max","scrollPercentage","scrollTop","clearCache","_cache","cache","_this3","_this4","removeEventListener","destroy","_this5","updateAttachClasses","elementAttach","targetAttach","_this6","sides","_addAttachClasses","side","_this7","flushChanges","elementPos","lastSize","_lastSize","targetPos","targetSize","manualOffset","manualTargetOffset","_module2","ret","scrollbarSize","page","viewport","win","parentElement","optimizations","moveElement","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","toLowerCase","scrollLeft","move","unshift","_this8","same","type","found","point","css","transcribe","_same","_pos","hasOptimizations","gpu","yPos","xPos","devicePixelRatio","round","moved","bodyElement","isFullscreenElement","e","d","fe","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","offsetParentIsBody","currentNode","tagName","writeCSS","write","val","elVal","BOUNDS_FORMAT","getBoundingRect","to","toUpperCase","substr","constraints","targetHeight","targetWidth","allClasses","constraint","outOfBoundsClass","pinnedClass","addClasses","tAttachment","eAttachment","pin","changeAttachX","changeAttachY","_attachment$split","_attachment$split2","map","p","pinned","oob","oobClass","abutted","targetPosSide","shift","shiftTop","shiftLeft","_shift","_shift2"],"sources":["/Users/zhabib/Documents/GitHub/box-elements-samples/demo-box-metadata-views/node_modules/tether/dist/js/tether.js"],"sourcesContent":["/*! tether 1.4.7 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Tether = factory();\n  }\n}(this, function() {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar TetherBase = undefined;\nif (typeof TetherBase === 'undefined') {\n  TetherBase = { modules: [] };\n}\n\nvar zeroElement = null;\n\n// Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n// if the element lies within a nested document (<frame> or <iframe>-like).\nfunction getActualBoundingClientRect(node) {\n  var boundingRect = node.getBoundingClientRect();\n\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n  var rect = {};\n  for (var k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  try {\n    if (node.ownerDocument !== document) {\n      var _frameElement = node.ownerDocument.defaultView.frameElement;\n      if (_frameElement) {\n        var frameRect = getActualBoundingClientRect(_frameElement);\n        rect.top += frameRect.top;\n        rect.bottom += frameRect.top;\n        rect.left += frameRect.left;\n        rect.right += frameRect.left;\n      }\n    }\n  } catch (err) {\n    // Ignore \"Access is denied\" in IE11/Edge\n  }\n\n  return rect;\n}\n\nfunction getScrollParents(el) {\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  var computedStyle = getComputedStyle(el) || {};\n  var position = computedStyle.position;\n  var parents = [];\n\n  if (position === 'fixed') {\n    return [el];\n  }\n\n  var parent = el;\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n    var style = undefined;\n    try {\n      style = getComputedStyle(parent);\n    } catch (err) {}\n\n    if (typeof style === 'undefined' || style === null) {\n      parents.push(parent);\n      return parents;\n    }\n\n    var _style = style;\n    var overflow = _style.overflow;\n    var overflowX = _style.overflowX;\n    var overflowY = _style.overflowY;\n\n    if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n        parents.push(parent);\n      }\n    }\n  }\n\n  parents.push(el.ownerDocument.body);\n\n  // If the node is within a frame, account for the parent window scroll\n  if (el.ownerDocument !== document) {\n    parents.push(el.ownerDocument.defaultView);\n  }\n\n  return parents;\n}\n\nvar uniqueId = (function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n})();\n\nvar zeroPosCache = {};\nvar getOrigin = function getOrigin() {\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n  // jitter as the user scrolls that messes with our ability to detect if two positions\n  // are equivilant or not.  We place an element at the top left of the page that will\n  // get the same jitter, so we can cancel the two out.\n  var node = zeroElement;\n  if (!node || !document.body.contains(node)) {\n    node = document.createElement('div');\n    node.setAttribute('data-tether-id', uniqueId());\n    extend(node.style, {\n      top: 0,\n      left: 0,\n      position: 'absolute'\n    });\n\n    document.body.appendChild(node);\n\n    zeroElement = node;\n  }\n\n  var id = node.getAttribute('data-tether-id');\n  if (typeof zeroPosCache[id] === 'undefined') {\n    zeroPosCache[id] = getActualBoundingClientRect(node);\n\n    // Clear the cache when this position call is done\n    defer(function () {\n      delete zeroPosCache[id];\n    });\n  }\n\n  return zeroPosCache[id];\n};\n\nfunction removeUtilElements() {\n  if (zeroElement) {\n    document.body.removeChild(zeroElement);\n  }\n  zeroElement = null;\n};\n\nfunction getBounds(el) {\n  var doc = undefined;\n  if (el === document) {\n    doc = document;\n    el = document.documentElement;\n  } else {\n    doc = el.ownerDocument;\n  }\n\n  var docEl = doc.documentElement;\n\n  var box = getActualBoundingClientRect(el);\n\n  var origin = getOrigin();\n\n  box.top -= origin.top;\n  box.left -= origin.left;\n\n  if (typeof box.width === 'undefined') {\n    box.width = document.body.scrollWidth - box.left - box.right;\n  }\n  if (typeof box.height === 'undefined') {\n    box.height = document.body.scrollHeight - box.top - box.bottom;\n  }\n\n  box.top = box.top - docEl.clientTop;\n  box.left = box.left - docEl.clientLeft;\n  box.right = doc.body.clientWidth - box.width - box.left;\n  box.bottom = doc.body.clientHeight - box.height - box.top;\n\n  return box;\n}\n\nfunction getOffsetParent(el) {\n  return el.offsetParent || document.documentElement;\n}\n\nvar _scrollBarSize = null;\nfunction getScrollBarSize() {\n  if (_scrollBarSize) {\n    return _scrollBarSize;\n  }\n  var inner = document.createElement('div');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  var outer = document.createElement('div');\n  extend(outer.style, {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    visibility: 'hidden',\n    width: '200px',\n    height: '150px',\n    overflow: 'hidden'\n  });\n\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n\n  var widthContained = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  var widthScroll = inner.offsetWidth;\n\n  if (widthContained === widthScroll) {\n    widthScroll = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n\n  var width = widthContained - widthScroll;\n\n  _scrollBarSize = { width: width, height: width };\n  return _scrollBarSize;\n}\n\nfunction extend() {\n  var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var args = [];\n\n  Array.prototype.push.apply(args, arguments);\n\n  args.slice(1).forEach(function (obj) {\n    if (obj) {\n      for (var key in obj) {\n        if (({}).hasOwnProperty.call(obj, key)) {\n          out[key] = obj[key];\n        }\n      }\n    }\n  });\n\n  return out;\n}\n\nfunction removeClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.remove(cls);\n      }\n    });\n  } else {\n    var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\n    var className = getClassName(el).replace(regex, ' ');\n    setClassName(el, className);\n  }\n}\n\nfunction addClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.add(cls);\n      }\n    });\n  } else {\n    removeClass(el, name);\n    var cls = getClassName(el) + (' ' + name);\n    setClassName(el, cls);\n  }\n}\n\nfunction hasClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    return el.classList.contains(name);\n  }\n  var className = getClassName(el);\n  return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\n}\n\nfunction getClassName(el) {\n  // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\n  // completely separately SVGAnimatedString base classes\n  if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\n    return el.className.baseVal;\n  }\n  return el.className;\n}\n\nfunction setClassName(el, className) {\n  el.setAttribute('class', className);\n}\n\nfunction updateClasses(el, add, all) {\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\n  // 'add' classes to be set.\n  all.forEach(function (cls) {\n    if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\n      removeClass(el, cls);\n    }\n  });\n\n  add.forEach(function (cls) {\n    if (!hasClass(el, cls)) {\n      addClass(el, cls);\n    }\n  });\n}\n\nvar deferred = [];\n\nvar defer = function defer(fn) {\n  deferred.push(fn);\n};\n\nvar flush = function flush() {\n  var fn = undefined;\n  while (fn = deferred.pop()) {\n    fn();\n  }\n};\n\nvar Evented = (function () {\n  function Evented() {\n    _classCallCheck(this, Evented);\n  }\n\n  _createClass(Evented, [{\n    key: 'on',\n    value: function on(event, handler, ctx) {\n      var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n      if (typeof this.bindings === 'undefined') {\n        this.bindings = {};\n      }\n      if (typeof this.bindings[event] === 'undefined') {\n        this.bindings[event] = [];\n      }\n      this.bindings[event].push({ handler: handler, ctx: ctx, once: once });\n    }\n  }, {\n    key: 'once',\n    value: function once(event, handler, ctx) {\n      this.on(event, handler, ctx, true);\n    }\n  }, {\n    key: 'off',\n    value: function off(event, handler) {\n      if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\n        return;\n      }\n\n      if (typeof handler === 'undefined') {\n        delete this.bindings[event];\n      } else {\n        var i = 0;\n        while (i < this.bindings[event].length) {\n          if (this.bindings[event][i].handler === handler) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(event) {\n      if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\n        var i = 0;\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        while (i < this.bindings[event].length) {\n          var _bindings$event$i = this.bindings[event][i];\n          var handler = _bindings$event$i.handler;\n          var ctx = _bindings$event$i.ctx;\n          var once = _bindings$event$i.once;\n\n          var context = ctx;\n          if (typeof context === 'undefined') {\n            context = this;\n          }\n\n          handler.apply(context, args);\n\n          if (once) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Evented;\n})();\n\nTetherBase.Utils = {\n  getActualBoundingClientRect: getActualBoundingClientRect,\n  getScrollParents: getScrollParents,\n  getBounds: getBounds,\n  getOffsetParent: getOffsetParent,\n  extend: extend,\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  updateClasses: updateClasses,\n  defer: defer,\n  flush: flush,\n  uniqueId: uniqueId,\n  Evented: Evented,\n  getScrollBarSize: getScrollBarSize,\n  removeUtilElements: removeUtilElements\n};\n/* globals TetherBase, performance */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (typeof TetherBase === 'undefined') {\n  throw new Error('You must include the utils.js file before tether.js');\n}\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getScrollParents = _TetherBase$Utils.getScrollParents;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar getOffsetParent = _TetherBase$Utils.getOffsetParent;\nvar extend = _TetherBase$Utils.extend;\nvar addClass = _TetherBase$Utils.addClass;\nvar removeClass = _TetherBase$Utils.removeClass;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\nvar flush = _TetherBase$Utils.flush;\nvar getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\nvar removeUtilElements = _TetherBase$Utils.removeUtilElements;\n\nfunction within(a, b) {\n  var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n  return a + diff >= b && b >= a - diff;\n}\n\nvar transformKey = (function () {\n  if (typeof document === 'undefined') {\n    return '';\n  }\n  var el = document.createElement('div');\n\n  var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (var i = 0; i < transforms.length; ++i) {\n    var key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nvar tethers = [];\n\nvar position = function position() {\n  tethers.forEach(function (tether) {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  if (typeof performance === 'object' && typeof performance.now === 'function') {\n    return performance.now();\n  }\n  return +new Date();\n}\n\n(function () {\n  var lastCall = null;\n  var lastDuration = null;\n  var pendingTimeout = null;\n\n  var tick = function tick() {\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (pendingTimeout != null) {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    ['resize', 'scroll', 'touchmove'].forEach(function (event) {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nvar MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nvar MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nvar OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nvar autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nvar attachmentToOffset = function attachmentToOffset(attachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nfunction addOffset() {\n  var out = { top: 0, left: 0 };\n\n  for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\n    offsets[_key] = arguments[_key];\n  }\n\n  offsets.forEach(function (_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (typeof top === 'string') {\n      top = parseFloat(top, 10);\n    }\n    if (typeof left === 'string') {\n      left = parseFloat(left, 10);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nfunction offsetToPx(offset, size) {\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n  }\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nvar parseOffset = function parseOffset(value) {\n  var _value$split = value.split(' ');\n\n  var _value$split2 = _slicedToArray(_value$split, 2);\n\n  var top = _value$split2[0];\n  var left = _value$split2[1];\n\n  return { top: top, left: left };\n};\nvar parseAttachment = parseOffset;\n\nvar TetherClass = (function (_Evented) {\n  _inherits(TetherClass, _Evented);\n\n  function TetherClass(options) {\n    var _this = this;\n\n    _classCallCheck(this, TetherClass);\n\n    _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach(function (module) {\n      if (typeof module.initialize !== 'undefined') {\n        module.initialize.call(_this);\n      }\n    });\n\n    this.position();\n  }\n\n  _createClass(TetherClass, [{\n    key: 'getClass',\n    value: function getClass() {\n      var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n      var classes = this.options.classes;\n\n      if (typeof classes !== 'undefined' && classes[key]) {\n        return this.options.classes[key];\n      } else if (this.options.classPrefix) {\n        return this.options.classPrefix + '-' + key;\n      } else {\n        return key;\n      }\n    }\n  }, {\n    key: 'setOptions',\n    value: function setOptions(options) {\n      var _this2 = this;\n\n      var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n      var defaults = {\n        offset: '0 0',\n        targetOffset: '0 0',\n        targetAttachment: 'auto auto',\n        classPrefix: 'tether'\n      };\n\n      this.options = extend(defaults, options);\n\n      var _options = this.options;\n      var element = _options.element;\n      var target = _options.target;\n      var targetModifier = _options.targetModifier;\n\n      this.element = element;\n      this.target = target;\n      this.targetModifier = targetModifier;\n\n      if (this.target === 'viewport') {\n        this.target = document.body;\n        this.targetModifier = 'visible';\n      } else if (this.target === 'scroll-handle') {\n        this.target = document.body;\n        this.targetModifier = 'scroll-handle';\n      }\n\n      ['element', 'target'].forEach(function (key) {\n        if (typeof _this2[key] === 'undefined') {\n          throw new Error('Tether Error: Both element and target must be defined');\n        }\n\n        if (typeof _this2[key].jquery !== 'undefined') {\n          _this2[key] = _this2[key][0];\n        } else if (typeof _this2[key] === 'string') {\n          _this2[key] = document.querySelector(_this2[key]);\n        }\n      });\n\n      addClass(this.element, this.getClass('element'));\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('target'));\n      }\n\n      if (!this.options.attachment) {\n        throw new Error('Tether Error: You must provide an attachment');\n      }\n\n      this.targetAttachment = parseAttachment(this.options.targetAttachment);\n      this.attachment = parseAttachment(this.options.attachment);\n      this.offset = parseOffset(this.options.offset);\n      this.targetOffset = parseOffset(this.options.targetOffset);\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.disable();\n      }\n\n      if (this.targetModifier === 'scroll-handle') {\n        this.scrollParents = [this.target];\n      } else {\n        this.scrollParents = getScrollParents(this.target);\n      }\n\n      if (!(this.options.enabled === false)) {\n        this.enable(pos);\n      }\n    }\n  }, {\n    key: 'getTargetBounds',\n    value: function getTargetBounds() {\n      if (typeof this.targetModifier !== 'undefined') {\n        if (this.targetModifier === 'visible') {\n          if (this.target === document.body) {\n            return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\n          } else {\n            var bounds = getBounds(this.target);\n\n            var out = {\n              height: bounds.height,\n              width: bounds.width,\n              top: bounds.top,\n              left: bounds.left\n            };\n\n            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\n            out.height = Math.min(innerHeight, out.height);\n            out.height -= 2;\n\n            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\n            out.width = Math.min(innerWidth, out.width);\n            out.width -= 2;\n\n            if (out.top < pageYOffset) {\n              out.top = pageYOffset;\n            }\n            if (out.left < pageXOffset) {\n              out.left = pageXOffset;\n            }\n\n            return out;\n          }\n        } else if (this.targetModifier === 'scroll-handle') {\n          var bounds = undefined;\n          var target = this.target;\n          if (target === document.body) {\n            target = document.documentElement;\n\n            bounds = {\n              left: pageXOffset,\n              top: pageYOffset,\n              height: innerHeight,\n              width: innerWidth\n            };\n          } else {\n            bounds = getBounds(target);\n          }\n\n          var style = getComputedStyle(target);\n\n          var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\n\n          var scrollBottom = 0;\n          if (hasBottomScroll) {\n            scrollBottom = 15;\n          }\n\n          var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n          var out = {\n            width: 15,\n            height: height * 0.975 * (height / target.scrollHeight),\n            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n          };\n\n          var fitAdj = 0;\n          if (height < 408 && this.target === document.body) {\n            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n          }\n\n          if (this.target !== document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n          out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n          if (this.target === document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          return out;\n        }\n      } else {\n        return getBounds(this.target);\n      }\n    }\n  }, {\n    key: 'clearCache',\n    value: function clearCache() {\n      this._cache = {};\n    }\n  }, {\n    key: 'cache',\n    value: function cache(k, getter) {\n      // More than one module will often need the same DOM info, so\n      // we keep a cache which is cleared on each position call\n      if (typeof this._cache === 'undefined') {\n        this._cache = {};\n      }\n\n      if (typeof this._cache[k] === 'undefined') {\n        this._cache[k] = getter.call(this);\n      }\n\n      return this._cache[k];\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var _this3 = this;\n\n      var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('enabled'));\n      }\n      addClass(this.element, this.getClass('enabled'));\n      this.enabled = true;\n\n      this.scrollParents.forEach(function (parent) {\n        if (parent !== _this3.target.ownerDocument) {\n          parent.addEventListener('scroll', _this3.position);\n        }\n      });\n\n      if (pos) {\n        this.position();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var _this4 = this;\n\n      removeClass(this.target, this.getClass('enabled'));\n      removeClass(this.element, this.getClass('enabled'));\n      this.enabled = false;\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.scrollParents.forEach(function (parent) {\n          parent.removeEventListener('scroll', _this4.position);\n        });\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var _this5 = this;\n\n      this.disable();\n\n      tethers.forEach(function (tether, i) {\n        if (tether === _this5) {\n          tethers.splice(i, 1);\n        }\n      });\n\n      // Remove any elements we were using for convenience from the DOM\n      if (tethers.length === 0) {\n        removeUtilElements();\n      }\n    }\n  }, {\n    key: 'updateAttachClasses',\n    value: function updateAttachClasses(elementAttach, targetAttach) {\n      var _this6 = this;\n\n      elementAttach = elementAttach || this.attachment;\n      targetAttach = targetAttach || this.targetAttachment;\n      var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n      if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n        // updateAttachClasses can be called more than once in a position call, so\n        // we need to clean up after ourselves such that when the last defer gets\n        // ran it doesn't add any extra classes from previous calls.\n        this._addAttachClasses.splice(0, this._addAttachClasses.length);\n      }\n\n      if (typeof this._addAttachClasses === 'undefined') {\n        this._addAttachClasses = [];\n      }\n      var add = this._addAttachClasses;\n\n      if (elementAttach.top) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.top);\n      }\n      if (elementAttach.left) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.left);\n      }\n      if (targetAttach.top) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.top);\n      }\n      if (targetAttach.left) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.left);\n      }\n\n      var all = [];\n      sides.forEach(function (side) {\n        all.push(_this6.getClass('element-attached') + '-' + side);\n        all.push(_this6.getClass('target-attached') + '-' + side);\n      });\n\n      defer(function () {\n        if (!(typeof _this6._addAttachClasses !== 'undefined')) {\n          return;\n        }\n\n        updateClasses(_this6.element, _this6._addAttachClasses, all);\n        if (!(_this6.options.addTargetClasses === false)) {\n          updateClasses(_this6.target, _this6._addAttachClasses, all);\n        }\n\n        delete _this6._addAttachClasses;\n      });\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      var _this7 = this;\n\n      var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n      // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n      if (!this.enabled) {\n        return;\n      }\n\n      this.clearCache();\n\n      // Turn 'auto' attachments into the appropriate corner or edge\n      var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n      this.updateAttachClasses(this.attachment, targetAttachment);\n\n      var elementPos = this.cache('element-bounds', function () {\n        return getBounds(_this7.element);\n      });\n\n      var width = elementPos.width;\n      var height = elementPos.height;\n\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n        var _lastSize = this.lastSize;\n\n        // We cache the height and width to make it possible to position elements that are\n        // getting hidden.\n        width = _lastSize.width;\n        height = _lastSize.height;\n      } else {\n        this.lastSize = { width: width, height: height };\n      }\n\n      var targetPos = this.cache('target-bounds', function () {\n        return _this7.getTargetBounds();\n      });\n      var targetSize = targetPos;\n\n      // Get an actual px offset from the attachment\n      var offset = offsetToPx(attachmentToOffset(this.attachment), { width: width, height: height });\n      var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n      var manualOffset = offsetToPx(this.offset, { width: width, height: height });\n      var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n      // Add the manually provided offset\n      offset = addOffset(offset, manualOffset);\n      targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n      // It's now our goal to make (element position + offset) == (target position + target offset)\n      var left = targetPos.left + targetOffset.left - offset.left;\n      var top = targetPos.top + targetOffset.top - offset.top;\n\n      for (var i = 0; i < TetherBase.modules.length; ++i) {\n        var _module2 = TetherBase.modules[i];\n        var ret = _module2.position.call(this, {\n          left: left,\n          top: top,\n          targetAttachment: targetAttachment,\n          targetPos: targetPos,\n          elementPos: elementPos,\n          offset: offset,\n          targetOffset: targetOffset,\n          manualOffset: manualOffset,\n          manualTargetOffset: manualTargetOffset,\n          scrollbarSize: scrollbarSize,\n          attachment: this.attachment\n        });\n\n        if (ret === false) {\n          return false;\n        } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n          continue;\n        } else {\n          top = ret.top;\n          left = ret.left;\n        }\n      }\n\n      // We describe the position three different ways to give the optimizer\n      // a chance to decide the best possible way to position the element\n      // with the fewest repaints.\n      var next = {\n        // It's position relative to the page (absolute positioning when\n        // the element is a child of the body)\n        page: {\n          top: top,\n          left: left\n        },\n\n        // It's position relative to the viewport (fixed positioning)\n        viewport: {\n          top: top - pageYOffset,\n          bottom: pageYOffset - top - height + innerHeight,\n          left: left - pageXOffset,\n          right: pageXOffset - left - width + innerWidth\n        }\n      };\n\n      var doc = this.target.ownerDocument;\n      var win = doc.defaultView;\n\n      var scrollbarSize = undefined;\n      if (win.innerHeight > doc.documentElement.clientHeight) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.bottom -= scrollbarSize.height;\n      }\n\n      if (win.innerWidth > doc.documentElement.clientWidth) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.right -= scrollbarSize.width;\n      }\n\n      if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n        // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n        next.page.bottom = doc.body.scrollHeight - top - height;\n        next.page.right = doc.body.scrollWidth - left - width;\n      }\n\n      if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\n        (function () {\n          var offsetParent = _this7.cache('target-offsetparent', function () {\n            return getOffsetParent(_this7.target);\n          });\n          var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\n            return getBounds(offsetParent);\n          });\n          var offsetParentStyle = getComputedStyle(offsetParent);\n          var offsetParentSize = offsetPosition;\n\n          var offsetBorder = {};\n          ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\n            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\n          });\n\n          offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n          offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n          if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\n            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\n              // We're within the visible part of the target's scroll parent\n              var scrollTop = offsetParent.scrollTop;\n              var scrollLeft = offsetParent.scrollLeft;\n\n              // It's position relative to the target's offset parent (absolute positioning when\n              // the element is moved to be a child of the target's offset parent).\n              next.offset = {\n                top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n              };\n            }\n          }\n        })();\n      }\n\n      // We could also travel up the DOM and try each containing context, rather than only\n      // looking at the body, but we're gonna get diminishing returns.\n\n      this.move(next);\n\n      this.history.unshift(next);\n\n      if (this.history.length > 3) {\n        this.history.pop();\n      }\n\n      if (flushChanges) {\n        flush();\n      }\n\n      return true;\n    }\n\n    // THE ISSUE\n  }, {\n    key: 'move',\n    value: function move(pos) {\n      var _this8 = this;\n\n      if (!(typeof this.element.parentNode !== 'undefined')) {\n        return;\n      }\n\n      var same = {};\n\n      for (var type in pos) {\n        same[type] = {};\n\n        for (var key in pos[type]) {\n          var found = false;\n\n          for (var i = 0; i < this.history.length; ++i) {\n            var point = this.history[i];\n            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            same[type][key] = true;\n          }\n        }\n      }\n\n      var css = { top: '', left: '', right: '', bottom: '' };\n\n      var transcribe = function transcribe(_same, _pos) {\n        var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\n        var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\n        if (gpu !== false) {\n          var yPos = undefined,\n              xPos = undefined;\n          if (_same.top) {\n            css.top = 0;\n            yPos = _pos.top;\n          } else {\n            css.bottom = 0;\n            yPos = -_pos.bottom;\n          }\n\n          if (_same.left) {\n            css.left = 0;\n            xPos = _pos.left;\n          } else {\n            css.right = 0;\n            xPos = -_pos.right;\n          }\n\n          if (typeof window.devicePixelRatio === 'number' && devicePixelRatio % 1 === 0) {\n            xPos = Math.round(xPos * devicePixelRatio) / devicePixelRatio;\n            yPos = Math.round(yPos * devicePixelRatio) / devicePixelRatio;\n          }\n\n          css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\n\n          if (transformKey !== 'msTransform') {\n            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n            // but IE9 doesn't support 3d transforms and will choke.\n            css[transformKey] += \" translateZ(0)\";\n          }\n        } else {\n          if (_same.top) {\n            css.top = _pos.top + 'px';\n          } else {\n            css.bottom = _pos.bottom + 'px';\n          }\n\n          if (_same.left) {\n            css.left = _pos.left + 'px';\n          } else {\n            css.right = _pos.right + 'px';\n          }\n        }\n      };\n\n      var moved = false;\n      if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n        css.position = 'absolute';\n        transcribe(same.page, pos.page);\n      } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n        css.position = 'fixed';\n        transcribe(same.viewport, pos.viewport);\n      } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n        (function () {\n          css.position = 'absolute';\n          var offsetParent = _this8.cache('target-offsetparent', function () {\n            return getOffsetParent(_this8.target);\n          });\n\n          if (getOffsetParent(_this8.element) !== offsetParent) {\n            defer(function () {\n              _this8.element.parentNode.removeChild(_this8.element);\n              offsetParent.appendChild(_this8.element);\n            });\n          }\n\n          transcribe(same.offset, pos.offset);\n          moved = true;\n        })();\n      } else {\n        css.position = 'absolute';\n        transcribe({ top: true, left: true }, pos.page);\n      }\n\n      if (!moved) {\n        if (this.options.bodyElement) {\n          if (this.element.parentNode !== this.options.bodyElement) {\n            this.options.bodyElement.appendChild(this.element);\n          }\n        } else {\n          var isFullscreenElement = function isFullscreenElement(e) {\n            var d = e.ownerDocument;\n            var fe = d.fullscreenElement || d.webkitFullscreenElement || d.mozFullScreenElement || d.msFullscreenElement;\n            return fe === e;\n          };\n\n          var offsetParentIsBody = true;\n\n          var currentNode = this.element.parentNode;\n          while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY' && !isFullscreenElement(currentNode)) {\n            if (getComputedStyle(currentNode).position !== 'static') {\n              offsetParentIsBody = false;\n              break;\n            }\n\n            currentNode = currentNode.parentNode;\n          }\n\n          if (!offsetParentIsBody) {\n            this.element.parentNode.removeChild(this.element);\n            this.element.ownerDocument.body.appendChild(this.element);\n          }\n        }\n      }\n\n      // Any css change will trigger a repaint, so let's avoid one if nothing changed\n      var writeCSS = {};\n      var write = false;\n      for (var key in css) {\n        var val = css[key];\n        var elVal = this.element.style[key];\n\n        if (elVal !== val) {\n          write = true;\n          writeCSS[key] = val;\n        }\n      }\n\n      if (write) {\n        defer(function () {\n          extend(_this8.element.style, writeCSS);\n          _this8.trigger('repositioned');\n        });\n      }\n    }\n  }]);\n\n  return TetherClass;\n})(Evented);\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nvar Tether = extend(TetherClass, TetherBase);\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar extend = _TetherBase$Utils.extend;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nvar BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n\nfunction getBoundingRect(tether, to) {\n  if (to === 'scrollParent') {\n    to = tether.scrollParents[0];\n  } else if (to === 'window') {\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n  }\n\n  if (to === document) {\n    to = to.documentElement;\n  }\n\n  if (typeof to.nodeType !== 'undefined') {\n    (function () {\n      var node = to;\n      var size = getBounds(to);\n      var pos = size;\n      var style = getComputedStyle(to);\n\n      to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n      // Account any parent Frames scroll offset\n      if (node.ownerDocument !== document) {\n        var win = node.ownerDocument.defaultView;\n        to[0] += win.pageXOffset;\n        to[1] += win.pageYOffset;\n        to[2] += win.pageXOffset;\n        to[3] += win.pageYOffset;\n      }\n\n      BOUNDS_FORMAT.forEach(function (side, i) {\n        side = side[0].toUpperCase() + side.substr(1);\n        if (side === 'Top' || side === 'Left') {\n          to[i] += parseFloat(style['border' + side + 'Width']);\n        } else {\n          to[i] -= parseFloat(style['border' + side + 'Width']);\n        }\n      });\n    })();\n  }\n\n  return to;\n}\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n    var targetAttachment = _ref.targetAttachment;\n\n    if (!this.options.constraints) {\n      return true;\n    }\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n      var _lastSize = this.lastSize;\n\n      // Handle the item getting hidden as a result of our positioning without glitching\n      // the classes in and out\n      width = _lastSize.width;\n      height = _lastSize.height;\n    }\n\n    var targetSize = this.cache('target-bounds', function () {\n      return _this.getTargetBounds();\n    });\n\n    var targetHeight = targetSize.height;\n    var targetWidth = targetSize.width;\n\n    var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n\n    this.options.constraints.forEach(function (constraint) {\n      var outOfBoundsClass = constraint.outOfBoundsClass;\n      var pinnedClass = constraint.pinnedClass;\n\n      if (outOfBoundsClass) {\n        allClasses.push(outOfBoundsClass);\n      }\n      if (pinnedClass) {\n        allClasses.push(pinnedClass);\n      }\n    });\n\n    allClasses.forEach(function (cls) {\n      ['left', 'top', 'right', 'bottom'].forEach(function (side) {\n        allClasses.push(cls + '-' + side);\n      });\n    });\n\n    var addClasses = [];\n\n    var tAttachment = extend({}, targetAttachment);\n    var eAttachment = extend({}, this.attachment);\n\n    this.options.constraints.forEach(function (constraint) {\n      var to = constraint.to;\n      var attachment = constraint.attachment;\n      var pin = constraint.pin;\n\n      if (typeof attachment === 'undefined') {\n        attachment = '';\n      }\n\n      var changeAttachX = undefined,\n          changeAttachY = undefined;\n      if (attachment.indexOf(' ') >= 0) {\n        var _attachment$split = attachment.split(' ');\n\n        var _attachment$split2 = _slicedToArray(_attachment$split, 2);\n\n        changeAttachY = _attachment$split2[0];\n        changeAttachX = _attachment$split2[1];\n      } else {\n        changeAttachX = changeAttachY = attachment;\n      }\n\n      var bounds = getBoundingRect(_this, to);\n\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\n        if (top < bounds[1] && tAttachment.top === 'top') {\n          top += targetHeight;\n          tAttachment.top = 'bottom';\n        }\n\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n          top -= targetHeight;\n          tAttachment.top = 'top';\n        }\n      }\n\n      if (changeAttachY === 'together') {\n        if (tAttachment.top === 'top') {\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\n            top += targetHeight;\n            tAttachment.top = 'bottom';\n\n            top += height;\n            eAttachment.top = 'top';\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n            top -= height - targetHeight;\n            tAttachment.top = 'bottom';\n\n            eAttachment.top = 'bottom';\n          }\n        }\n\n        if (tAttachment.top === 'bottom') {\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\n            top -= targetHeight;\n            tAttachment.top = 'top';\n\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n            top += height - targetHeight;\n            tAttachment.top = 'top';\n\n            eAttachment.top = 'top';\n          }\n        }\n\n        if (tAttachment.top === 'middle') {\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n            top += height;\n            eAttachment.top = 'top';\n          }\n        }\n      }\n\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          left += targetWidth;\n          tAttachment.left = 'right';\n        }\n\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\n          left -= targetWidth;\n          tAttachment.left = 'left';\n        }\n      }\n\n      if (changeAttachX === 'together') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          if (eAttachment.left === 'right') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'left') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left -= width;\n            eAttachment.left = 'right';\n          }\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n          if (eAttachment.left === 'left') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'right') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left += width;\n            eAttachment.left = 'left';\n          }\n        } else if (tAttachment.left === 'center') {\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          }\n        }\n      }\n\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\n          top += height;\n          eAttachment.top = 'top';\n        }\n\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\n          top -= height;\n          eAttachment.top = 'bottom';\n        }\n      }\n\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\n        if (left < bounds[0]) {\n          if (eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'center') {\n            left += width / 2;\n            eAttachment.left = 'left';\n          }\n        }\n\n        if (left + width > bounds[2]) {\n          if (eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'center') {\n            left -= width / 2;\n            eAttachment.left = 'right';\n          }\n        }\n      }\n\n      if (typeof pin === 'string') {\n        pin = pin.split(',').map(function (p) {\n          return p.trim();\n        });\n      } else if (pin === true) {\n        pin = ['top', 'left', 'right', 'bottom'];\n      }\n\n      pin = pin || [];\n\n      var pinned = [];\n      var oob = [];\n\n      if (top < bounds[1]) {\n        if (pin.indexOf('top') >= 0) {\n          top = bounds[1];\n          pinned.push('top');\n        } else {\n          oob.push('top');\n        }\n      }\n\n      if (top + height > bounds[3]) {\n        if (pin.indexOf('bottom') >= 0) {\n          top = bounds[3] - height;\n          pinned.push('bottom');\n        } else {\n          oob.push('bottom');\n        }\n      }\n\n      if (left < bounds[0]) {\n        if (pin.indexOf('left') >= 0) {\n          left = bounds[0];\n          pinned.push('left');\n        } else {\n          oob.push('left');\n        }\n      }\n\n      if (left + width > bounds[2]) {\n        if (pin.indexOf('right') >= 0) {\n          left = bounds[2] - width;\n          pinned.push('right');\n        } else {\n          oob.push('right');\n        }\n      }\n\n      if (pinned.length) {\n        (function () {\n          var pinnedClass = undefined;\n          if (typeof _this.options.pinnedClass !== 'undefined') {\n            pinnedClass = _this.options.pinnedClass;\n          } else {\n            pinnedClass = _this.getClass('pinned');\n          }\n\n          addClasses.push(pinnedClass);\n          pinned.forEach(function (side) {\n            addClasses.push(pinnedClass + '-' + side);\n          });\n        })();\n      }\n\n      if (oob.length) {\n        (function () {\n          var oobClass = undefined;\n          if (typeof _this.options.outOfBoundsClass !== 'undefined') {\n            oobClass = _this.options.outOfBoundsClass;\n          } else {\n            oobClass = _this.getClass('out-of-bounds');\n          }\n\n          addClasses.push(oobClass);\n          oob.forEach(function (side) {\n            addClasses.push(oobClass + '-' + side);\n          });\n        })();\n      }\n\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n        eAttachment.left = tAttachment.left = false;\n      }\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n        eAttachment.top = tAttachment.top = false;\n      }\n\n      if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\n        _this.updateAttachClasses(eAttachment, tAttachment);\n        _this.trigger('update', {\n          attachment: eAttachment,\n          targetAttachment: tAttachment\n        });\n      }\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return { top: top, left: left };\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    var targetPos = this.getTargetBounds();\n\n    var bottom = top + height;\n    var right = left + width;\n\n    var abutted = [];\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\n      ['left', 'right'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === left || targetPosSide === right) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    if (left <= targetPos.right && right >= targetPos.left) {\n      ['top', 'bottom'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === top || targetPosSide === bottom) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    var allClasses = [];\n    var addClasses = [];\n\n    var sides = ['left', 'top', 'right', 'bottom'];\n    allClasses.push(this.getClass('abutted'));\n    sides.forEach(function (side) {\n      allClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    if (abutted.length) {\n      addClasses.push(this.getClass('abutted'));\n    }\n\n    abutted.forEach(function (side) {\n      addClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return true;\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (!this.options.shift) {\n      return;\n    }\n\n    var shift = this.options.shift;\n    if (typeof this.options.shift === 'function') {\n      shift = this.options.shift.call(this, { top: top, left: left });\n    }\n\n    var shiftTop = undefined,\n        shiftLeft = undefined;\n    if (typeof shift === 'string') {\n      shift = shift.split(' ');\n      shift[1] = shift[1] || shift[0];\n\n      var _shift = shift;\n\n      var _shift2 = _slicedToArray(_shift, 2);\n\n      shiftTop = _shift2[0];\n      shiftLeft = _shift2[1];\n\n      shiftTop = parseFloat(shiftTop, 10);\n      shiftLeft = parseFloat(shiftLeft, 10);\n    } else {\n      shiftTop = shift.top;\n      shiftLeft = shift.left;\n    }\n\n    top += shiftTop;\n    left += shiftLeft;\n\n    return { top: top, left: left };\n  }\n});\nreturn Tether;\n\n}));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}