{"ast":null,"code":"/**\n * \n * @file Versions Item Actions component\n * @author Box\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DropdownMenu from '../../../components/dropdown-menu';\nimport IconClockPast from '../../../icons/general/IconClockPast';\nimport IconDownload from '../../../icons/general/IconDownload';\nimport IconEllipsis from '../../../icons/general/IconEllipsis';\nimport IconOpenWith from '../../../icons/general/IconOpenWith';\nimport IconTrash from '../../../icons/general/IconTrash';\nimport IconUpload from '../../../icons/general/IconUpload';\nimport messages from './messages';\nimport PlainButton from '../../../components/plain-button';\nimport Tooltip from '../../../components/tooltip/Tooltip';\nimport VersionsItemAction from './VersionsItemAction';\nimport { Menu } from '../../../components/menu';\nimport './VersionsItemActions.scss';\nvar handleMenuClose = function handleMenuClose(event) {\n  event.stopPropagation();\n};\nvar handleToggleClick = function handleToggleClick(event) {\n  event.stopPropagation();\n};\nvar VersionsItemActions = function VersionsItemActions(_ref) {\n  var fileId = _ref.fileId,\n    _ref$isCurrent = _ref.isCurrent,\n    isCurrent = _ref$isCurrent === void 0 ? false : _ref$isCurrent,\n    _ref$isRetained = _ref.isRetained,\n    isRetained = _ref$isRetained === void 0 ? false : _ref$isRetained,\n    onDelete = _ref.onDelete,\n    onDownload = _ref.onDownload,\n    onPreview = _ref.onPreview,\n    onPromote = _ref.onPromote,\n    onRestore = _ref.onRestore,\n    _ref$showDelete = _ref.showDelete,\n    showDelete = _ref$showDelete === void 0 ? false : _ref$showDelete,\n    _ref$showDownload = _ref.showDownload,\n    showDownload = _ref$showDownload === void 0 ? false : _ref$showDownload,\n    _ref$showPreview = _ref.showPreview,\n    showPreview = _ref$showPreview === void 0 ? false : _ref$showPreview,\n    _ref$showPromote = _ref.showPromote,\n    showPromote = _ref$showPromote === void 0 ? false : _ref$showPromote,\n    _ref$showRestore = _ref.showRestore,\n    showRestore = _ref$showRestore === void 0 ? false : _ref$showRestore;\n  if (!showDelete && !showDownload && !showPreview && !showPromote && !showRestore) {\n    return null;\n  }\n  return React.createElement(DropdownMenu, {\n    className: \"bcs-VersionsItemActions\",\n    constrainToScrollParent: true,\n    constrainToWindow: true,\n    isRightAligned: true,\n    onMenuClose: handleMenuClose\n  }, React.createElement(PlainButton, {\n    className: \"bcs-VersionsItemActions-toggle\",\n    \"data-resin-iscurrent\": isCurrent,\n    \"data-resin-itemid\": fileId,\n    \"data-resin-target\": \"overflow\",\n    onClick: handleToggleClick,\n    type: \"button\"\n  }, React.createElement(IconEllipsis, {\n    height: 4,\n    width: 14\n  }), React.createElement(FormattedMessage, messages.versionActionToggle, function (text) {\n    return React.createElement(\"span\", {\n      className: \"accessibility-hidden\"\n    }, text);\n  })), React.createElement(Menu, {\n    className: \"bcs-VersionsItemActions-menu\",\n    \"data-resin-component\": \"preview\" // Needed for resin events due to tether moving menu to body\n    ,\n\n    \"data-resin-feature\": \"versions\" // Needed for resin events due to tether moving menu to body\n  }, showPreview && React.createElement(VersionsItemAction, {\n    action: \"preview\",\n    fileId: fileId,\n    isCurrent: isCurrent,\n    onClick: onPreview\n  }, React.createElement(IconOpenWith, null), React.createElement(FormattedMessage, messages.versionActionPreview)), showDownload && React.createElement(VersionsItemAction, {\n    action: \"download\",\n    fileId: fileId,\n    isCurrent: isCurrent,\n    onClick: onDownload\n  }, React.createElement(IconDownload, null), React.createElement(FormattedMessage, messages.versionActionDownload)), showPromote && React.createElement(VersionsItemAction, {\n    action: \"promote\",\n    fileId: fileId,\n    isCurrent: isCurrent,\n    onClick: onPromote\n  }, React.createElement(IconUpload, null), React.createElement(FormattedMessage, messages.versionActionPromote)), showRestore && React.createElement(VersionsItemAction, {\n    action: \"restore\",\n    fileId: fileId,\n    isCurrent: isCurrent,\n    onClick: onRestore\n  }, React.createElement(IconClockPast, {\n    height: 14,\n    width: 14\n  }), React.createElement(FormattedMessage, messages.versionActionRestore)), showDelete && React.createElement(Tooltip, {\n    position: \"middle-left\",\n    text: React.createElement(FormattedMessage, messages.versionActionDisabledRetention),\n    isTabbable: false,\n    isDisabled: !isRetained\n  }, React.createElement(VersionsItemAction, {\n    action: \"remove\",\n    fileId: fileId,\n    isCurrent: isCurrent,\n    isDisabled: isRetained,\n    onClick: onDelete\n  }, React.createElement(IconTrash, null), React.createElement(FormattedMessage, messages.versionActionDelete)))));\n};\nexport default VersionsItemActions;","map":{"version":3,"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemActions.js"],"names":["React","FormattedMessage","DropdownMenu","IconClockPast","IconDownload","IconEllipsis","IconOpenWith","IconTrash","IconUpload","messages","PlainButton","Tooltip","VersionsItemAction","Menu","handleMenuClose","event","stopPropagation","handleToggleClick","VersionsItemActions","fileId","isCurrent","isRetained","onDelete","onDownload","onPreview","onPromote","onRestore","showDelete","showDownload","showPreview","showPromote","showRestore","versionActionToggle","text","versionActionPreview","versionActionDownload","versionActionPromote","versionActionRestore","versionActionDisabledRetention","versionActionDelete"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Versions Item Actions component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DropdownMenu from '../../../components/dropdown-menu';\nimport IconClockPast from '../../../icons/general/IconClockPast';\nimport IconDownload from '../../../icons/general/IconDownload';\nimport IconEllipsis from '../../../icons/general/IconEllipsis';\nimport IconOpenWith from '../../../icons/general/IconOpenWith';\nimport IconTrash from '../../../icons/general/IconTrash';\nimport IconUpload from '../../../icons/general/IconUpload';\nimport messages from './messages';\nimport PlainButton from '../../../components/plain-button';\nimport Tooltip from '../../../components/tooltip/Tooltip';\nimport VersionsItemAction from './VersionsItemAction';\nimport { Menu } from '../../../components/menu';\nimport './VersionsItemActions.scss';\n\ntype Props = {\n    fileId: string,\n    isCurrent?: boolean,\n    isRetained?: boolean,\n    onDelete?: () => void,\n    onDownload?: () => void,\n    onPreview?: () => void,\n    onPromote?: () => void,\n    onRestore?: () => void,\n    showDelete?: boolean,\n    showDownload?: boolean,\n    showPreview?: boolean,\n    showPromote?: boolean,\n    showRestore?: boolean,\n};\n\nconst handleMenuClose = (event: SyntheticEvent<> | MouseEvent) => {\n    event.stopPropagation();\n};\n\nconst handleToggleClick = (event: SyntheticMouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n};\n\nconst VersionsItemActions = ({\n    fileId,\n    isCurrent = false,\n    isRetained = false,\n    onDelete,\n    onDownload,\n    onPreview,\n    onPromote,\n    onRestore,\n    showDelete = false,\n    showDownload = false,\n    showPreview = false,\n    showPromote = false,\n    showRestore = false,\n}: Props) => {\n    if (!showDelete && !showDownload && !showPreview && !showPromote && !showRestore) {\n        return null;\n    }\n\n    return (\n        <DropdownMenu\n            className=\"bcs-VersionsItemActions\"\n            constrainToScrollParent\n            constrainToWindow\n            isRightAligned\n            onMenuClose={handleMenuClose}\n        >\n            <PlainButton\n                className=\"bcs-VersionsItemActions-toggle\"\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"overflow\"\n                onClick={handleToggleClick}\n                type=\"button\"\n            >\n                <IconEllipsis height={4} width={14} />\n                <FormattedMessage {...messages.versionActionToggle}>\n                    {(text: string) => <span className=\"accessibility-hidden\">{text}</span>}\n                </FormattedMessage>\n            </PlainButton>\n\n            <Menu\n                className=\"bcs-VersionsItemActions-menu\"\n                data-resin-component=\"preview\" // Needed for resin events due to tether moving menu to body\n                data-resin-feature=\"versions\" // Needed for resin events due to tether moving menu to body\n            >\n                {showPreview && (\n                    <VersionsItemAction action=\"preview\" fileId={fileId} isCurrent={isCurrent} onClick={onPreview}>\n                        <IconOpenWith />\n                        <FormattedMessage {...messages.versionActionPreview} />\n                    </VersionsItemAction>\n                )}\n\n                {showDownload && (\n                    <VersionsItemAction action=\"download\" fileId={fileId} isCurrent={isCurrent} onClick={onDownload}>\n                        <IconDownload />\n                        <FormattedMessage {...messages.versionActionDownload} />\n                    </VersionsItemAction>\n                )}\n                {showPromote && (\n                    <VersionsItemAction action=\"promote\" fileId={fileId} isCurrent={isCurrent} onClick={onPromote}>\n                        <IconUpload />\n                        <FormattedMessage {...messages.versionActionPromote} />\n                    </VersionsItemAction>\n                )}\n                {showRestore && (\n                    <VersionsItemAction action=\"restore\" fileId={fileId} isCurrent={isCurrent} onClick={onRestore}>\n                        <IconClockPast height={14} width={14} />\n                        <FormattedMessage {...messages.versionActionRestore} />\n                    </VersionsItemAction>\n                )}\n                {showDelete && (\n                    <Tooltip\n                        position=\"middle-left\"\n                        text={<FormattedMessage {...messages.versionActionDisabledRetention} />}\n                        isTabbable={false}\n                        isDisabled={!isRetained}\n                    >\n                        <VersionsItemAction\n                            action=\"remove\"\n                            fileId={fileId}\n                            isCurrent={isCurrent}\n                            isDisabled={isRetained}\n                            onClick={onDelete}\n                        >\n                            <IconTrash />\n                            <FormattedMessage {...messages.versionActionDelete} />\n                        </VersionsItemAction>\n                    </Tooltip>\n                )}\n            </Menu>\n        </DropdownMenu>\n    );\n};\n\nexport default VersionsItemActions;\n"]},"metadata":{},"sourceType":"module"}