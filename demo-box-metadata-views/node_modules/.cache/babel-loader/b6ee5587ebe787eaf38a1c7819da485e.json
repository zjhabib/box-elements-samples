{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  }\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\n/**\n * \n * @file Helper for the box Tasks API\n * @author Box\n */\nimport TasksBase from './TasksBase';\nimport { ERROR_CODE_CREATE_TASK, ERROR_CODE_UPDATE_TASK, ERROR_CODE_DELETE_TASK, ERROR_CODE_FETCH_TASKS, API_PAGE_LIMIT } from '../../constants';\nvar TasksNew = /*#__PURE__*/\nfunction (_TasksBase) {\n  _inherits(TasksNew, _TasksBase);\n  function TasksNew() {\n    _classCallCheck(this, TasksNew);\n    return _possibleConstructorReturn(this, _getPrototypeOf(TasksNew).apply(this, arguments));\n  }\n  _createClass(TasksNew, [{\n    key: \"getUrlForFileTasks\",\n    value: function getUrlForFileTasks(id) {\n      return \"\".concat(this.getBaseApiUrl(), \"/undoc/files/\").concat(id, \"/linked_tasks?limit=\").concat(API_PAGE_LIMIT);\n    }\n  }, {\n    key: \"getUrlForTaskCreateWithDeps\",\n    value: function getUrlForTaskCreateWithDeps() {\n      return \"\".concat(this.getBaseApiUrl(), \"/undoc/tasks/with_dependencies\");\n    }\n  }, {\n    key: \"getUrlForTask\",\n    value: function getUrlForTask(id) {\n      return \"\".concat(this.getBaseApiUrl(), \"/undoc/tasks/\").concat(id);\n    }\n  }, {\n    key: \"getUrlForTaskWithDeps\",\n    value: function getUrlForTaskWithDeps(id) {\n      return \"\".concat(this.getBaseApiUrl(), \"/undoc/tasks/\").concat(id, \"/with_dependencies\");\n    }\n  }, {\n    key: \"updateTaskWithDeps\",\n    value: function updateTaskWithDeps(_ref) {\n      var errorCallback = _ref.errorCallback,\n        file = _ref.file,\n        successCallback = _ref.successCallback,\n        task = _ref.task;\n      this.errorCode = ERROR_CODE_UPDATE_TASK;\n      var createTaskCollabsPayload = task.addedAssignees.map(function (assignee) {\n        return {\n          op: assignee.item && assignee.item.type === 'group' ? 'add_task_collaborators_expand_group' : 'add_task_collaborator',\n          payload: {\n            target: {\n              type: assignee.item && assignee.item.type === 'group' ? 'group' : 'user',\n              id: assignee.id\n            }\n          }\n        };\n      });\n      var deleteTaskCollabsPayload = task.removedAssignees.map(function (assignee) {\n        return {\n          op: 'delete_task_collaborator',\n          id: assignee.id\n        };\n      });\n      var id = task.id,\n        addedAssignees = task.addedAssignees,\n        removedAssignees = task.removedAssignees,\n        updateTaskPayload = _objectWithoutProperties(task, [\"id\", \"addedAssignees\", \"removedAssignees\"]);\n      this.put({\n        id: file.id,\n        url: this.getUrlForTaskWithDeps(task.id),\n        data: {\n          data: [{\n            op: 'update_task',\n            payload: _objectSpread({}, updateTaskPayload)\n          }].concat(_toConsumableArray(createTaskCollabsPayload), _toConsumableArray(deleteTaskCollabsPayload))\n        },\n        successCallback: successCallback,\n        errorCallback: errorCallback\n      });\n    }\n  }, {\n    key: \"deleteTask\",\n    value: function deleteTask(_ref2) {\n      var errorCallback = _ref2.errorCallback,\n        file = _ref2.file,\n        successCallback = _ref2.successCallback,\n        task = _ref2.task;\n      this.errorCode = ERROR_CODE_DELETE_TASK;\n      this.delete({\n        id: file.id,\n        url: this.getUrlForTask(task.id),\n        successCallback: successCallback,\n        errorCallback: errorCallback\n      });\n    }\n  }, {\n    key: \"getTasksForFile\",\n    value: function getTasksForFile(_ref3) {\n      var errorCallback = _ref3.errorCallback,\n        file = _ref3.file,\n        successCallback = _ref3.successCallback;\n      this.errorCode = ERROR_CODE_FETCH_TASKS;\n      this.get({\n        id: file.id,\n        url: this.getUrlForFileTasks(file.id),\n        successCallback: successCallback,\n        errorCallback: errorCallback\n      });\n    }\n  }, {\n    key: \"getTask\",\n    value: function getTask(_ref4) {\n      var errorCallback = _ref4.errorCallback,\n        file = _ref4.file,\n        id = _ref4.id,\n        successCallback = _ref4.successCallback;\n      this.errorCode = ERROR_CODE_FETCH_TASKS;\n      this.get({\n        id: file.id,\n        url: this.getUrlForTask(id),\n        successCallback: successCallback,\n        errorCallback: errorCallback\n      });\n    }\n  }, {\n    key: \"createTaskWithDeps\",\n    value: function createTaskWithDeps(_ref5) {\n      var errorCallback = _ref5.errorCallback,\n        file = _ref5.file,\n        successCallback = _ref5.successCallback,\n        task = _ref5.task,\n        assignees = _ref5.assignees;\n      this.errorCode = ERROR_CODE_CREATE_TASK;\n      var createTaskCollabsPayload = assignees.map(function (assignee) {\n        return {\n          target: {\n            type: assignee.item && assignee.item.type === 'group' ? 'group' : 'user',\n            id: assignee.id\n          }\n        };\n      });\n      var createTaskLinksPayload = [{\n        target: {\n          id: file.id,\n          type: 'file'\n        }\n      }];\n      var createTaskWithDepsPayload = {\n        task: _objectSpread({}, task),\n        assigned_to: createTaskCollabsPayload,\n        task_links: createTaskLinksPayload\n      };\n      this.post({\n        id: file.id,\n        url: this.getUrlForTaskCreateWithDeps(),\n        data: {\n          data: _objectSpread({}, createTaskWithDepsPayload)\n        },\n        successCallback: successCallback,\n        errorCallback: errorCallback\n      });\n    }\n  }]);\n  return TasksNew;\n}(TasksBase);\nexport default TasksNew;","map":{"version":3,"sources":["../../../src/api/tasks/TasksNew.js"],"names":["TasksBase","ERROR_CODE_CREATE_TASK","ERROR_CODE_UPDATE_TASK","ERROR_CODE_DELETE_TASK","ERROR_CODE_FETCH_TASKS","API_PAGE_LIMIT","TasksNew","id","getBaseApiUrl","errorCallback","file","successCallback","task","errorCode","createTaskCollabsPayload","addedAssignees","map","op","assignee","item","type","payload","target","deleteTaskCollabsPayload","removedAssignees","updateTaskPayload","put","url","getUrlForTaskWithDeps","data","delete","getUrlForTask","get","getUrlForFileTasks","assignees","createTaskLinksPayload","createTaskWithDepsPayload","assigned_to","task_links","post","getUrlForTaskCreateWithDeps"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Helper for the box Tasks API\n * @author Box\n */\n\nimport TasksBase from './TasksBase';\nimport {\n    ERROR_CODE_CREATE_TASK,\n    ERROR_CODE_UPDATE_TASK,\n    ERROR_CODE_DELETE_TASK,\n    ERROR_CODE_FETCH_TASKS,\n    API_PAGE_LIMIT,\n} from '../../constants';\nimport type { TaskUpdatePayload } from '../../common/types/tasks';\nimport type { ElementsXhrError, ElementsErrorCallback } from '../../common/types/api';\nimport type { SelectorItems, SelectorItem, UserMini, GroupMini, BoxItem } from '../../common/types/core';\n\nclass TasksNew extends TasksBase {\n    getUrlForFileTasks(id: string): string {\n        return `${this.getBaseApiUrl()}/undoc/files/${id}/linked_tasks?limit=${API_PAGE_LIMIT}`;\n    }\n\n    getUrlForTaskCreateWithDeps(): string {\n        return `${this.getBaseApiUrl()}/undoc/tasks/with_dependencies`;\n    }\n\n    getUrlForTask(id: string): string {\n        return `${this.getBaseApiUrl()}/undoc/tasks/${id}`;\n    }\n\n    getUrlForTaskWithDeps(id: string): string {\n        return `${this.getBaseApiUrl()}/undoc/tasks/${id}/with_dependencies`;\n    }\n\n    updateTaskWithDeps({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        task: TaskUpdatePayload,\n    }): void {\n        this.errorCode = ERROR_CODE_UPDATE_TASK;\n\n        const createTaskCollabsPayload = task.addedAssignees.map(assignee => {\n            return {\n                op:\n                    assignee.item && assignee.item.type === 'group'\n                        ? 'add_task_collaborators_expand_group'\n                        : 'add_task_collaborator',\n                payload: {\n                    target: {\n                        type: assignee.item && assignee.item.type === 'group' ? 'group' : 'user',\n                        id: assignee.id,\n                    },\n                },\n            };\n        });\n\n        const deleteTaskCollabsPayload = task.removedAssignees.map(assignee => {\n            return {\n                op: 'delete_task_collaborator',\n                id: assignee.id,\n            };\n        });\n\n        const { id, addedAssignees, removedAssignees, ...updateTaskPayload } = task;\n        this.put({\n            id: file.id,\n            url: this.getUrlForTaskWithDeps(task.id),\n            data: {\n                data: [\n                    {\n                        op: 'update_task',\n                        payload: { ...updateTaskPayload },\n                    },\n                    ...createTaskCollabsPayload,\n                    ...deleteTaskCollabsPayload,\n                ],\n            },\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    deleteTask({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        task: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_DELETE_TASK;\n\n        this.delete({\n            id: file.id,\n            url: this.getUrlForTask(task.id),\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    getTasksForFile({\n        errorCallback,\n        file,\n        successCallback,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: { id: string },\n        successCallback: Function,\n    }): void {\n        this.errorCode = ERROR_CODE_FETCH_TASKS;\n        this.get({\n            id: file.id,\n            url: this.getUrlForFileTasks(file.id),\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    getTask({\n        errorCallback,\n        file,\n        id,\n        successCallback,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: { id: string },\n        id: string,\n        successCallback: Function,\n    }): void {\n        this.errorCode = ERROR_CODE_FETCH_TASKS;\n        this.get({\n            id: file.id,\n            url: this.getUrlForTask(id),\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    createTaskWithDeps({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n        assignees,\n    }: {\n        assignees: SelectorItems<UserMini | GroupMini>,\n        errorCallback: (e: ElementsXhrError, code: string) => void,\n        file: BoxItem,\n        successCallback: Function,\n        task: {}, // Partial task object\n    }): void {\n        this.errorCode = ERROR_CODE_CREATE_TASK;\n\n        const createTaskCollabsPayload = assignees.map((assignee: SelectorItem<UserMini | GroupMini>) => {\n            return {\n                target: {\n                    type: assignee.item && assignee.item.type === 'group' ? 'group' : 'user',\n                    id: assignee.id,\n                },\n            };\n        });\n\n        const createTaskLinksPayload = [\n            {\n                target: {\n                    id: file.id,\n                    type: 'file',\n                },\n            },\n        ];\n\n        const createTaskWithDepsPayload = {\n            task: { ...task },\n            assigned_to: createTaskCollabsPayload,\n            task_links: createTaskLinksPayload,\n        };\n\n        this.post({\n            id: file.id,\n            url: this.getUrlForTaskCreateWithDeps(),\n            data: { data: { ...createTaskWithDepsPayload } },\n            successCallback,\n            errorCallback,\n        });\n    }\n}\n\nexport default TasksNew;\n"]},"metadata":{},"sourceType":"module"}