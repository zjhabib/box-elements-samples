{"ast":null,"code":"var _RETENTION_MAP;\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n/**\n * \n * @file Versions Item Retention component\n * @author Box\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ReadableTime } from '../../../components/time';\nimport { VERSION_RETENTION_DELETE_ACTION, VERSION_RETENTION_REMOVE_ACTION, VERSION_RETENTION_INDEFINITE } from '../../../constants';\nimport messages from './messages';\nvar RETENTION_MAP = (_RETENTION_MAP = {}, _defineProperty(_RETENTION_MAP, VERSION_RETENTION_DELETE_ACTION, messages.versionRetentionDelete), _defineProperty(_RETENTION_MAP, VERSION_RETENTION_REMOVE_ACTION, messages.versionRetentionRemove), _RETENTION_MAP);\nvar VersionsItemRetention = function VersionsItemRetention(_ref) {\n  var retention = _ref.retention;\n  var _ref2 = retention || {},\n    dispositionAt = _ref2.disposition_at,\n    retentionPolicy = _ref2.winning_retention_policy;\n  var _ref3 = retentionPolicy || {},\n    dispositionAction = _ref3.disposition_action,\n    retentionLength = _ref3.retention_length;\n  var dispositionAtTime = dispositionAt && new Date(dispositionAt).getTime();\n  if (!dispositionAction) {\n    return null;\n  }\n  return retentionLength === VERSION_RETENTION_INDEFINITE || !dispositionAtTime ? React.createElement(FormattedMessage, messages.versionRetentionIndefinite) : React.createElement(FormattedMessage, _extends({}, RETENTION_MAP[dispositionAction], {\n    values: {\n      time: React.createElement(ReadableTime, {\n        timestamp: dispositionAtTime,\n        showWeekday: true\n      })\n    }\n  }));\n};\nexport default VersionsItemRetention;","map":{"version":3,"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemRetention.js"],"names":["React","FormattedMessage","ReadableTime","VERSION_RETENTION_DELETE_ACTION","VERSION_RETENTION_REMOVE_ACTION","VERSION_RETENTION_INDEFINITE","messages","RETENTION_MAP","versionRetentionDelete","versionRetentionRemove","VersionsItemRetention","retention","disposition_at","dispositionAt","winning_retention_policy","retentionPolicy","disposition_action","dispositionAction","retention_length","retentionLength","dispositionAtTime","Date","getTime","versionRetentionIndefinite","time"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;AAMA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,gBAAT,QAAiC,YAAjC;AACA,SAASC,YAAT,QAA6B,0BAA7B;AACA,SACIC,+BADJ,EAEIC,+BAFJ,EAGIC,4BAHJ,QAIO,oBAJP;AAKA,OAAOC,QAAP,MAAqB,YAArB;AAOA,IAAMC,aAAa,IAAA,cAAA,GAAA,CAAA,CAAA,EAAA,eAAA,CAAA,cAAA,EACdJ,+BADc,EACoBG,QAAQ,CAACE,sBAD7B,CAAA,EAAA,eAAA,CAAA,cAAA,EAEdJ,+BAFc,EAEoBE,QAAQ,CAACG,sBAF7B,CAAA,EAAA,cAAA,CAAnB;AAKA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAA,IAAA,EAA0B;EAAA,IAAvBC,SAAuB,GAAA,IAAA,CAAvBA,SAAuB;EAAA,IAAA,KAAA,GACiCA,SAAS,IAAI,CAAA,CAD9C;IAC5BE,aAD4B,GAAA,KAAA,CAC5CD,cAD4C;IACaG,eADb,GAAA,KAAA,CACbD,wBADa;EAAA,IAAA,KAAA,GAEiCC,eAAe,IAAI,CAAA,CAFpD;IAExBE,iBAFwB,GAAA,KAAA,CAE5CD,kBAF4C;IAEaG,eAFb,GAAA,KAAA,CAELD,gBAFK;EAGpD,IAAME,iBAAiB,GAAGP,aAAa,IAAI,IAAIQ,IAAJ,CAASR,aAAT,CAAA,CAAwBS,OAAxB,CAAA,CAA3C;EAEA,IAAI,CAACL,iBAAL,EAAwB;IACpB,OAAO,IAAP;EACH;EAED,OAAOE,eAAe,KAAKd,4BAApBc,IAAoD,CAACC,iBAArDD,GACH,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAsBb,QAAQ,CAACiB,0BAA/B,CADGJ,GAGH,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAA,QAAA,CAAA,CAAA,CAAA,EACQZ,aAAa,CAACU,iBAAD,CADrB,EAAA;IAEI,MAAM,EAAE;MACJO,IAAI,EAAE,KAAA,CAAA,aAAA,CAAC,YAAD,EAAA;QAAc,SAAS,EAAEJ,iBAAzB;QAA4C,WAAW,EAAA;MAAvD,CAAA;IADF;EAFZ,CAAA,CAAA,CAHJ;AAUH,CAnBD;AAqBA,eAAeV,qBAAf","sourcesContent":["/**\n * @flow strict\n * @file Versions Item Retention component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ReadableTime } from '../../../components/time';\nimport {\n    VERSION_RETENTION_DELETE_ACTION,\n    VERSION_RETENTION_REMOVE_ACTION,\n    VERSION_RETENTION_INDEFINITE,\n} from '../../../constants';\nimport messages from './messages';\nimport type { BoxItemVersionRetention } from '../../../common/types/core';\n\ntype Props = {\n    retention?: BoxItemVersionRetention,\n};\n\nconst RETENTION_MAP = {\n    [VERSION_RETENTION_DELETE_ACTION]: messages.versionRetentionDelete,\n    [VERSION_RETENTION_REMOVE_ACTION]: messages.versionRetentionRemove,\n};\n\nconst VersionsItemRetention = ({ retention }: Props) => {\n    const { disposition_at: dispositionAt, winning_retention_policy: retentionPolicy } = retention || {};\n    const { disposition_action: dispositionAction, retention_length: retentionLength } = retentionPolicy || {};\n    const dispositionAtTime = dispositionAt && new Date(dispositionAt).getTime();\n\n    if (!dispositionAction) {\n        return null;\n    }\n\n    return retentionLength === VERSION_RETENTION_INDEFINITE || !dispositionAtTime ? (\n        <FormattedMessage {...messages.versionRetentionIndefinite} />\n    ) : (\n        <FormattedMessage\n            {...RETENTION_MAP[dispositionAction]}\n            values={{\n                time: <ReadableTime timestamp={dispositionAtTime} showWeekday />,\n            }}\n        />\n    );\n};\n\nexport default VersionsItemRetention;\n"]},"metadata":{},"sourceType":"module"}