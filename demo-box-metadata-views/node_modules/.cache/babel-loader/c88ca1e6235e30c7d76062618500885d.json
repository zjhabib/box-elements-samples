{"ast":null,"code":"/*!\n * Pikaday\n *\n * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday\n */\n\n(function (root, factory) {\n  'use strict';\n\n  var moment;\n  if (typeof exports === 'object') {\n    // CommonJS module\n    // Load moment.js as an optional dependency\n    try {\n      moment = require('moment');\n    } catch (e) {}\n    module.exports = factory(moment);\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(function (req) {\n      // Load moment.js as an optional dependency\n      var id = 'moment';\n      try {\n        moment = req(id);\n      } catch (e) {}\n      return factory(moment);\n    });\n  } else {\n    root.Pikaday = factory(root.moment);\n  }\n})(this, function (moment) {\n  'use strict';\n\n  /**\n   * feature detection and helper functions\n   */\n  var hasMoment = typeof moment === 'function',\n    hasEventListeners = !!window.addEventListener,\n    document = window.document,\n    sto = window.setTimeout,\n    addEvent = function (el, e, callback, capture) {\n      if (hasEventListeners) {\n        el.addEventListener(e, callback, !!capture);\n      } else {\n        el.attachEvent('on' + e, callback);\n      }\n    },\n    removeEvent = function (el, e, callback, capture) {\n      if (hasEventListeners) {\n        el.removeEventListener(e, callback, !!capture);\n      } else {\n        el.detachEvent('on' + e, callback);\n      }\n    },\n    trim = function (str) {\n      return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n    },\n    hasClass = function (el, cn) {\n      return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n    addClass = function (el, cn) {\n      if (!hasClass(el, cn)) {\n        el.className = el.className === '' ? cn : el.className + ' ' + cn;\n      }\n    },\n    removeClass = function (el, cn) {\n      el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n    isArray = function (obj) {\n      return /Array/.test(Object.prototype.toString.call(obj));\n    },\n    isDate = function (obj) {\n      return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n    isWeekend = function (date) {\n      var day = date.getDay();\n      return day === 0 || day === 6;\n    },\n    isLeapYear = function (year) {\n      // solution lifted from date.js (MIT license): https://github.com/datejs/Datejs\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth = function (year, month) {\n      return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    setToStartOfDay = function (date) {\n      if (isDate(date)) date.setHours(0, 0, 0, 0);\n    },\n    compareDates = function (a, b) {\n      // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n      return a.getTime() === b.getTime();\n    },\n    extend = function (to, from, overwrite) {\n      var prop, hasProp;\n      for (prop in from) {\n        hasProp = to[prop] !== undefined;\n        if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n          if (isDate(from[prop])) {\n            if (overwrite) {\n              to[prop] = new Date(from[prop].getTime());\n            }\n          } else if (isArray(from[prop])) {\n            if (overwrite) {\n              to[prop] = from[prop].slice(0);\n            }\n          } else {\n            to[prop] = extend({}, from[prop], overwrite);\n          }\n        } else if (overwrite || !hasProp) {\n          to[prop] = from[prop];\n        }\n      }\n      return to;\n    },\n    fireEvent = function (el, eventName, data) {\n      var ev;\n      if (document.createEvent) {\n        ev = document.createEvent('HTMLEvents');\n        ev.initEvent(eventName, true, false);\n        ev = extend(ev, data);\n        el.dispatchEvent(ev);\n      } else if (document.createEventObject) {\n        ev = document.createEventObject();\n        ev = extend(ev, data);\n        el.fireEvent('on' + eventName, ev);\n      }\n    },\n    adjustCalendar = function (calendar) {\n      if (calendar.month < 0) {\n        calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\n        calendar.month += 12;\n      }\n      if (calendar.month > 11) {\n        calendar.year += Math.floor(Math.abs(calendar.month) / 12);\n        calendar.month -= 12;\n      }\n      return calendar;\n    },\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n      // bind the picker to a form field\n      field: null,\n      // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n      bound: undefined,\n      // data-attribute on the input field with an aria assistance text (only applied when `bound` is set)\n      ariaLabel: 'Use the arrow keys to pick a date',\n      // position of the datepicker, relative to the field (default to bottom & left)\n      // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n      position: 'bottom left',\n      // automatically fit in the viewport even if it means repositioning from the position option\n      reposition: true,\n      // the default output format for `.toString()` and `field` value\n      format: 'YYYY-MM-DD',\n      // the toString function which gets passed a current date object and format\n      // and returns a string\n      toString: null,\n      // used to create date object from current input string\n      parse: null,\n      // the initial date to view when first opened\n      defaultDate: null,\n      // make the `defaultDate` the initial selected value\n      setDefaultDate: false,\n      // first day of week (0: Sunday, 1: Monday etc)\n      firstDay: 0,\n      // minimum number of days in the week that gets week number one\n      // default ISO 8601, week 01 is the week with the first Thursday (4)\n      firstWeekOfYearMinDays: 4,\n      // the default flag for moment's strict date parsing\n      formatStrict: false,\n      // the minimum/earliest date that can be selected\n      minDate: null,\n      // the maximum/latest date that can be selected\n      maxDate: null,\n      // number of years either side, or array of upper/lower range\n      yearRange: 10,\n      // show week numbers at head of row\n      showWeekNumber: false,\n      // Week picker mode\n      pickWholeWeek: false,\n      // used internally (don't config outside)\n      minYear: 0,\n      maxYear: 9999,\n      minMonth: undefined,\n      maxMonth: undefined,\n      startRange: null,\n      endRange: null,\n      isRTL: false,\n      // Additional text to append to the year in the calendar title\n      yearSuffix: '',\n      // Render the month after year in the calendar title\n      showMonthAfterYear: false,\n      // Render days of the calendar grid that fall in the next or previous month\n      showDaysInNextAndPreviousMonths: false,\n      // Allows user to select days that fall in the next or previous month\n      enableSelectionDaysInNextAndPreviousMonths: false,\n      // how many months are visible\n      numberOfMonths: 1,\n      // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n      // only used for the first display or when a selected date is not visible\n      mainCalendar: 'left',\n      // Specify a DOM element to render the calendar in\n      container: undefined,\n      // Blur field when date is selected\n      blurFieldOnSelect: true,\n      // internationalization\n      i18n: {\n        previousMonth: 'Previous Month',\n        nextMonth: 'Next Month',\n        months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n        weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n        weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n      },\n      // Theme Classname\n      theme: null,\n      // events array\n      events: [],\n      // callback function\n      onSelect: null,\n      onOpen: null,\n      onClose: null,\n      onDraw: null,\n      // Enable keyboard input\n      keyboardInput: true\n    },\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function (opts, day, abbr) {\n      day += opts.firstDay;\n      while (day >= 7) {\n        day -= 7;\n      }\n      return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n    renderDay = function (opts) {\n      var arr = [];\n      var ariaSelected = 'false';\n      if (opts.isEmpty) {\n        if (opts.showDaysInNextAndPreviousMonths) {\n          arr.push('is-outside-current-month');\n          if (!opts.enableSelectionDaysInNextAndPreviousMonths) {\n            arr.push('is-selection-disabled');\n          }\n        } else {\n          return '<td class=\"is-empty\"></td>';\n        }\n      }\n      if (opts.isDisabled) {\n        arr.push('is-disabled');\n      }\n      if (opts.isToday) {\n        arr.push('is-today');\n      }\n      if (opts.isSelected) {\n        arr.push('is-selected');\n        ariaSelected = 'true';\n      }\n      if (opts.hasEvent) {\n        arr.push('has-event');\n      }\n      if (opts.isInRange) {\n        arr.push('is-inrange');\n      }\n      if (opts.isStartRange) {\n        arr.push('is-startrange');\n      }\n      if (opts.isEndRange) {\n        arr.push('is-endrange');\n      }\n      return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' + '<button class=\"pika-button pika-day\" type=\"button\" ' + 'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' + opts.day + '</button>' + '</td>';\n    },\n    isoWeek = function (date, firstWeekOfYearMinDays) {\n      // Ensure we're at the start of the day.\n      date.setHours(0, 0, 0, 0);\n\n      // Thursday in current week decides the year because January 4th\n      // is always in the first week according to ISO8601.\n      var yearDay = date.getDate(),\n        weekDay = date.getDay(),\n        dayInFirstWeek = firstWeekOfYearMinDays,\n        dayShift = dayInFirstWeek - 1,\n        // counting starts at 0\n        daysPerWeek = 7,\n        prevWeekDay = function (day) {\n          return (day + daysPerWeek - 1) % daysPerWeek;\n        };\n\n      // Adjust to Thursday in week 1 and count number of weeks from date to week 1.\n      date.setDate(yearDay + dayShift - prevWeekDay(weekDay));\n      var jan4th = new Date(date.getFullYear(), 0, dayInFirstWeek),\n        msPerDay = 24 * 60 * 60 * 1000,\n        daysBetween = (date.getTime() - jan4th.getTime()) / msPerDay,\n        weekNum = 1 + Math.round((daysBetween - dayShift + prevWeekDay(jan4th.getDay())) / daysPerWeek);\n      return weekNum;\n    },\n    renderWeek = function (d, m, y, firstWeekOfYearMinDays) {\n      var date = new Date(y, m, d),\n        week = hasMoment ? moment(date).isoWeek() : isoWeek(date, firstWeekOfYearMinDays);\n      return '<td class=\"pika-week\">' + week + '</td>';\n    },\n    renderRow = function (days, isRTL, pickWholeWeek, isRowSelected) {\n      return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n    renderBody = function (rows) {\n      return '<tbody>' + rows.join('') + '</tbody>';\n    },\n    renderHead = function (opts) {\n      var i,\n        arr = [];\n      if (opts.showWeekNumber) {\n        arr.push('<th></th>');\n      }\n      for (i = 0; i < 7; i++) {\n        arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n      }\n      return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n    renderTitle = function (instance, c, year, month, refYear, randId) {\n      var i,\n        j,\n        arr,\n        opts = instance._o,\n        isMinYear = year === opts.minYear,\n        isMaxYear = year === opts.maxYear,\n        html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n        monthHtml,\n        yearHtml,\n        prev = true,\n        next = true;\n      for (arr = [], i = 0; i < 12; i++) {\n        arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' + (i === month ? ' selected=\"selected\"' : '') + (isMinYear && i < opts.minMonth || isMaxYear && i > opts.maxMonth ? ' disabled=\"disabled\"' : '') + '>' + opts.i18n.months[i] + '</option>');\n      }\n      monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n      if (isArray(opts.yearRange)) {\n        i = opts.yearRange[0];\n        j = opts.yearRange[1] + 1;\n      } else {\n        i = year - opts.yearRange;\n        j = 1 + year + opts.yearRange;\n      }\n      for (arr = []; i < j && i <= opts.maxYear; i++) {\n        if (i >= opts.minYear) {\n          arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"' : '') + '>' + i + '</option>');\n        }\n      }\n      yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n      if (opts.showMonthAfterYear) {\n        html += yearHtml + monthHtml;\n      } else {\n        html += monthHtml + yearHtml;\n      }\n      if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n        prev = false;\n      }\n      if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n        next = false;\n      }\n      if (c === 0) {\n        html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n      }\n      if (c === instance._o.numberOfMonths - 1) {\n        html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n      }\n      return html += '</div>';\n    },\n    renderTable = function (opts, data, randId) {\n      return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function (options) {\n      var self = this,\n        opts = self.config(options);\n      self._onMouseDown = function (e) {\n        if (!self._v) {\n          return;\n        }\n        e = e || window.event;\n        var target = e.target || e.srcElement;\n        if (!target) {\n          return;\n        }\n        if (!hasClass(target, 'is-disabled')) {\n          if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n            self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n            if (opts.bound) {\n              sto(function () {\n                self.hide();\n                if (opts.blurFieldOnSelect && opts.field) {\n                  opts.field.blur();\n                }\n              }, 100);\n            }\n          } else if (hasClass(target, 'pika-prev')) {\n            self.prevMonth();\n          } else if (hasClass(target, 'pika-next')) {\n            self.nextMonth();\n          }\n        }\n        if (!hasClass(target, 'pika-select')) {\n          // if this is touch event prevent mouse events emulation\n          if (e.preventDefault) {\n            e.preventDefault();\n          } else {\n            e.returnValue = false;\n            return false;\n          }\n        } else {\n          self._c = true;\n        }\n      };\n      self._onChange = function (e) {\n        e = e || window.event;\n        var target = e.target || e.srcElement;\n        if (!target) {\n          return;\n        }\n        if (hasClass(target, 'pika-select-month')) {\n          self.gotoMonth(target.value);\n        } else if (hasClass(target, 'pika-select-year')) {\n          self.gotoYear(target.value);\n        }\n      };\n      self._onKeyChange = function (e) {\n        e = e || window.event;\n        if (self.isVisible()) {\n          switch (e.keyCode) {\n            case 13:\n            case 27:\n              if (opts.field) {\n                opts.field.blur();\n              }\n              break;\n            case 37:\n              self.adjustDate('subtract', 1);\n              break;\n            case 38:\n              self.adjustDate('subtract', 7);\n              break;\n            case 39:\n              self.adjustDate('add', 1);\n              break;\n            case 40:\n              self.adjustDate('add', 7);\n              break;\n            case 8:\n            case 46:\n              self.setDate(null);\n              break;\n          }\n        }\n      };\n      self._parseFieldValue = function () {\n        if (opts.parse) {\n          return opts.parse(opts.field.value, opts.format);\n        } else if (hasMoment) {\n          var date = moment(opts.field.value, opts.format, opts.formatStrict);\n          return date && date.isValid() ? date.toDate() : null;\n        } else {\n          return new Date(Date.parse(opts.field.value));\n        }\n      };\n      self._onInputChange = function (e) {\n        var date;\n        if (e.firedBy === self) {\n          return;\n        }\n        date = self._parseFieldValue();\n        if (isDate(date)) {\n          self.setDate(date);\n        }\n        if (!self._v) {\n          self.show();\n        }\n      };\n      self._onInputFocus = function () {\n        self.show();\n      };\n      self._onInputClick = function () {\n        self.show();\n      };\n      self._onInputBlur = function () {\n        // IE allows pika div to gain focus; catch blur the input field\n        var pEl = document.activeElement;\n        do {\n          if (hasClass(pEl, 'pika-single')) {\n            return;\n          }\n        } while (pEl = pEl.parentNode);\n        if (!self._c) {\n          self._b = sto(function () {\n            self.hide();\n          }, 50);\n        }\n        self._c = false;\n      };\n      self._onClick = function (e) {\n        e = e || window.event;\n        var target = e.target || e.srcElement,\n          pEl = target;\n        if (!target) {\n          return;\n        }\n        if (!hasEventListeners && hasClass(target, 'pika-select')) {\n          if (!target.onchange) {\n            target.setAttribute('onchange', 'return;');\n            addEvent(target, 'change', self._onChange);\n          }\n        }\n        do {\n          if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n            return;\n          }\n        } while (pEl = pEl.parentNode);\n        if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n          self.hide();\n        }\n      };\n      self.el = document.createElement('div');\n      self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n      addEvent(self.el, 'mousedown', self._onMouseDown, true);\n      addEvent(self.el, 'touchend', self._onMouseDown, true);\n      addEvent(self.el, 'change', self._onChange);\n      if (opts.keyboardInput) {\n        addEvent(document, 'keydown', self._onKeyChange);\n      }\n      if (opts.field) {\n        if (opts.container) {\n          opts.container.appendChild(self.el);\n        } else if (opts.bound) {\n          document.body.appendChild(self.el);\n        } else {\n          opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n        }\n        addEvent(opts.field, 'change', self._onInputChange);\n        if (!opts.defaultDate) {\n          opts.defaultDate = self._parseFieldValue();\n          opts.setDefaultDate = true;\n        }\n      }\n      var defDate = opts.defaultDate;\n      if (isDate(defDate)) {\n        if (opts.setDefaultDate) {\n          self.setDate(defDate, true);\n        } else {\n          self.gotoDate(defDate);\n        }\n      } else {\n        self.gotoDate(new Date());\n      }\n      if (opts.bound) {\n        this.hide();\n        self.el.className += ' is-bound';\n        addEvent(opts.trigger, 'click', self._onInputClick);\n        addEvent(opts.trigger, 'focus', self._onInputFocus);\n        addEvent(opts.trigger, 'blur', self._onInputBlur);\n      } else {\n        this.show();\n      }\n    };\n\n  /**\n   * public Pikaday API\n   */\n  Pikaday.prototype = {\n    /**\n     * configure functionality\n     */\n    config: function (options) {\n      if (!this._o) {\n        this._o = extend({}, defaults, true);\n      }\n      var opts = extend(this._o, options, true);\n      opts.isRTL = !!opts.isRTL;\n      opts.field = opts.field && opts.field.nodeName ? opts.field : null;\n      opts.theme = typeof opts.theme === 'string' && opts.theme ? opts.theme : null;\n      opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n      opts.trigger = opts.trigger && opts.trigger.nodeName ? opts.trigger : opts.field;\n      opts.disableWeekends = !!opts.disableWeekends;\n      opts.disableDayFn = typeof opts.disableDayFn === 'function' ? opts.disableDayFn : null;\n      var nom = parseInt(opts.numberOfMonths, 10) || 1;\n      opts.numberOfMonths = nom > 4 ? 4 : nom;\n      if (!isDate(opts.minDate)) {\n        opts.minDate = false;\n      }\n      if (!isDate(opts.maxDate)) {\n        opts.maxDate = false;\n      }\n      if (opts.minDate && opts.maxDate && opts.maxDate < opts.minDate) {\n        opts.maxDate = opts.minDate = false;\n      }\n      if (opts.minDate) {\n        this.setMinDate(opts.minDate);\n      }\n      if (opts.maxDate) {\n        this.setMaxDate(opts.maxDate);\n      }\n      if (isArray(opts.yearRange)) {\n        var fallback = new Date().getFullYear() - 10;\n        opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n        opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n      } else {\n        opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n        if (opts.yearRange > 100) {\n          opts.yearRange = 100;\n        }\n      }\n      return opts;\n    },\n    /**\n     * return a formatted string of the current selection (using Moment.js if available)\n     */\n    toString: function (format) {\n      format = format || this._o.format;\n      if (!isDate(this._d)) {\n        return '';\n      }\n      if (this._o.toString) {\n        return this._o.toString(this._d, format);\n      }\n      if (hasMoment) {\n        return moment(this._d).format(format);\n      }\n      return this._d.toDateString();\n    },\n    /**\n     * return a Moment.js object of the current selection (if available)\n     */\n    getMoment: function () {\n      return hasMoment ? moment(this._d) : null;\n    },\n    /**\n     * set the current selection from a Moment.js object (if available)\n     */\n    setMoment: function (date, preventOnSelect) {\n      if (hasMoment && moment.isMoment(date)) {\n        this.setDate(date.toDate(), preventOnSelect);\n      }\n    },\n    /**\n     * return a Date object of the current selection\n     */\n    getDate: function () {\n      return isDate(this._d) ? new Date(this._d.getTime()) : null;\n    },\n    /**\n     * set the current selection\n     */\n    setDate: function (date, preventOnSelect) {\n      if (!date) {\n        this._d = null;\n        if (this._o.field) {\n          this._o.field.value = '';\n          fireEvent(this._o.field, 'change', {\n            firedBy: this\n          });\n        }\n        return this.draw();\n      }\n      if (typeof date === 'string') {\n        date = new Date(Date.parse(date));\n      }\n      if (!isDate(date)) {\n        return;\n      }\n      var min = this._o.minDate,\n        max = this._o.maxDate;\n      if (isDate(min) && date < min) {\n        date = min;\n      } else if (isDate(max) && date > max) {\n        date = max;\n      }\n      this._d = new Date(date.getTime());\n      setToStartOfDay(this._d);\n      this.gotoDate(this._d);\n      if (this._o.field) {\n        this._o.field.value = this.toString();\n        fireEvent(this._o.field, 'change', {\n          firedBy: this\n        });\n      }\n      if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n        this._o.onSelect.call(this, this.getDate());\n      }\n    },\n    /**\n     * clear and reset the date\n     */\n    clear: function () {\n      this.setDate(null);\n    },\n    /**\n     * change view to a specific date\n     */\n    gotoDate: function (date) {\n      var newCalendar = true;\n      if (!isDate(date)) {\n        return;\n      }\n      if (this.calendars) {\n        var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n          lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1),\n          visibleDate = date.getTime();\n        // get the end of the month\n        lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\n        lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\n        newCalendar = visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\n      }\n      if (newCalendar) {\n        this.calendars = [{\n          month: date.getMonth(),\n          year: date.getFullYear()\n        }];\n        if (this._o.mainCalendar === 'right') {\n          this.calendars[0].month += 1 - this._o.numberOfMonths;\n        }\n      }\n      this.adjustCalendars();\n    },\n    adjustDate: function (sign, days) {\n      var day = this.getDate() || new Date();\n      var difference = parseInt(days) * 24 * 60 * 60 * 1000;\n      var newDay;\n      if (sign === 'add') {\n        newDay = new Date(day.valueOf() + difference);\n      } else if (sign === 'subtract') {\n        newDay = new Date(day.valueOf() - difference);\n      }\n      this.setDate(newDay);\n    },\n    adjustCalendars: function () {\n      this.calendars[0] = adjustCalendar(this.calendars[0]);\n      for (var c = 1; c < this._o.numberOfMonths; c++) {\n        this.calendars[c] = adjustCalendar({\n          month: this.calendars[0].month + c,\n          year: this.calendars[0].year\n        });\n      }\n      this.draw();\n    },\n    gotoToday: function () {\n      this.gotoDate(new Date());\n    },\n    /**\n     * change view to a specific month (zero-index, e.g. 0: January)\n     */\n    gotoMonth: function (month) {\n      if (!isNaN(month)) {\n        this.calendars[0].month = parseInt(month, 10);\n        this.adjustCalendars();\n      }\n    },\n    nextMonth: function () {\n      this.calendars[0].month++;\n      this.adjustCalendars();\n    },\n    prevMonth: function () {\n      this.calendars[0].month--;\n      this.adjustCalendars();\n    },\n    /**\n     * change view to a specific full year (e.g. \"2012\")\n     */\n    gotoYear: function (year) {\n      if (!isNaN(year)) {\n        this.calendars[0].year = parseInt(year, 10);\n        this.adjustCalendars();\n      }\n    },\n    /**\n     * change the minDate\n     */\n    setMinDate: function (value) {\n      if (value instanceof Date) {\n        setToStartOfDay(value);\n        this._o.minDate = value;\n        this._o.minYear = value.getFullYear();\n        this._o.minMonth = value.getMonth();\n      } else {\n        this._o.minDate = defaults.minDate;\n        this._o.minYear = defaults.minYear;\n        this._o.minMonth = defaults.minMonth;\n        this._o.startRange = defaults.startRange;\n      }\n      this.draw();\n    },\n    /**\n     * change the maxDate\n     */\n    setMaxDate: function (value) {\n      if (value instanceof Date) {\n        setToStartOfDay(value);\n        this._o.maxDate = value;\n        this._o.maxYear = value.getFullYear();\n        this._o.maxMonth = value.getMonth();\n      } else {\n        this._o.maxDate = defaults.maxDate;\n        this._o.maxYear = defaults.maxYear;\n        this._o.maxMonth = defaults.maxMonth;\n        this._o.endRange = defaults.endRange;\n      }\n      this.draw();\n    },\n    setStartRange: function (value) {\n      this._o.startRange = value;\n    },\n    setEndRange: function (value) {\n      this._o.endRange = value;\n    },\n    /**\n     * refresh the HTML\n     */\n    draw: function (force) {\n      if (!this._v && !force) {\n        return;\n      }\n      var opts = this._o,\n        minYear = opts.minYear,\n        maxYear = opts.maxYear,\n        minMonth = opts.minMonth,\n        maxMonth = opts.maxMonth,\n        html = '',\n        randId;\n      if (this._y <= minYear) {\n        this._y = minYear;\n        if (!isNaN(minMonth) && this._m < minMonth) {\n          this._m = minMonth;\n        }\n      }\n      if (this._y >= maxYear) {\n        this._y = maxYear;\n        if (!isNaN(maxMonth) && this._m > maxMonth) {\n          this._m = maxMonth;\n        }\n      }\n      for (var c = 0; c < opts.numberOfMonths; c++) {\n        randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n        html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n      }\n      this.el.innerHTML = html;\n      if (opts.bound) {\n        if (opts.field.type !== 'hidden') {\n          sto(function () {\n            opts.trigger.focus();\n          }, 1);\n        }\n      }\n      if (typeof this._o.onDraw === 'function') {\n        this._o.onDraw(this);\n      }\n      if (opts.bound) {\n        // let the screen reader user know to use arrow keys\n        opts.field.setAttribute('aria-label', opts.ariaLabel);\n      }\n    },\n    adjustPosition: function () {\n      var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect, leftAligned, bottomAligned;\n      if (this._o.container) return;\n      this.el.style.position = 'absolute';\n      field = this._o.trigger;\n      pEl = field;\n      width = this.el.offsetWidth;\n      height = this.el.offsetHeight;\n      viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n      viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n      scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n      leftAligned = true;\n      bottomAligned = true;\n      if (typeof field.getBoundingClientRect === 'function') {\n        clientRect = field.getBoundingClientRect();\n        left = clientRect.left + window.pageXOffset;\n        top = clientRect.bottom + window.pageYOffset;\n      } else {\n        left = pEl.offsetLeft;\n        top = pEl.offsetTop + pEl.offsetHeight;\n        while (pEl = pEl.offsetParent) {\n          left += pEl.offsetLeft;\n          top += pEl.offsetTop;\n        }\n      }\n\n      // default position is bottom & left\n      if (this._o.reposition && left + width > viewportWidth || this._o.position.indexOf('right') > -1 && left - width + field.offsetWidth > 0) {\n        left = left - width + field.offsetWidth;\n        leftAligned = false;\n      }\n      if (this._o.reposition && top + height > viewportHeight + scrollTop || this._o.position.indexOf('top') > -1 && top - height - field.offsetHeight > 0) {\n        top = top - height - field.offsetHeight;\n        bottomAligned = false;\n      }\n      this.el.style.left = left + 'px';\n      this.el.style.top = top + 'px';\n      addClass(this.el, leftAligned ? 'left-aligned' : 'right-aligned');\n      addClass(this.el, bottomAligned ? 'bottom-aligned' : 'top-aligned');\n      removeClass(this.el, !leftAligned ? 'left-aligned' : 'right-aligned');\n      removeClass(this.el, !bottomAligned ? 'bottom-aligned' : 'top-aligned');\n    },\n    /**\n     * render HTML for a particular month\n     */\n    render: function (year, month, randId) {\n      var opts = this._o,\n        now = new Date(),\n        days = getDaysInMonth(year, month),\n        before = new Date(year, month, 1).getDay(),\n        data = [],\n        row = [];\n      setToStartOfDay(now);\n      if (opts.firstDay > 0) {\n        before -= opts.firstDay;\n        if (before < 0) {\n          before += 7;\n        }\n      }\n      var previousMonth = month === 0 ? 11 : month - 1,\n        nextMonth = month === 11 ? 0 : month + 1,\n        yearOfPreviousMonth = month === 0 ? year - 1 : year,\n        yearOfNextMonth = month === 11 ? year + 1 : year,\n        daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n      var cells = days + before,\n        after = cells;\n      while (after > 7) {\n        after -= 7;\n      }\n      cells += 7 - after;\n      var isWeekSelected = false;\n      for (var i = 0, r = 0; i < cells; i++) {\n        var day = new Date(year, month, 1 + (i - before)),\n          isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n          isToday = compareDates(day, now),\n          hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n          isEmpty = i < before || i >= days + before,\n          dayNumber = 1 + (i - before),\n          monthNumber = month,\n          yearNumber = year,\n          isStartRange = opts.startRange && compareDates(opts.startRange, day),\n          isEndRange = opts.endRange && compareDates(opts.endRange, day),\n          isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n          isDisabled = opts.minDate && day < opts.minDate || opts.maxDate && day > opts.maxDate || opts.disableWeekends && isWeekend(day) || opts.disableDayFn && opts.disableDayFn(day);\n        if (isEmpty) {\n          if (i < before) {\n            dayNumber = daysInPreviousMonth + dayNumber;\n            monthNumber = previousMonth;\n            yearNumber = yearOfPreviousMonth;\n          } else {\n            dayNumber = dayNumber - days;\n            monthNumber = nextMonth;\n            yearNumber = yearOfNextMonth;\n          }\n        }\n        var dayConfig = {\n          day: dayNumber,\n          month: monthNumber,\n          year: yearNumber,\n          hasEvent: hasEvent,\n          isSelected: isSelected,\n          isToday: isToday,\n          isDisabled: isDisabled,\n          isEmpty: isEmpty,\n          isStartRange: isStartRange,\n          isEndRange: isEndRange,\n          isInRange: isInRange,\n          showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n          enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n        };\n        if (opts.pickWholeWeek && isSelected) {\n          isWeekSelected = true;\n        }\n        row.push(renderDay(dayConfig));\n        if (++r === 7) {\n          if (opts.showWeekNumber) {\n            row.unshift(renderWeek(i - before, month, year, opts.firstWeekOfYearMinDays));\n          }\n          data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n          row = [];\n          r = 0;\n          isWeekSelected = false;\n        }\n      }\n      return renderTable(opts, data, randId);\n    },\n    isVisible: function () {\n      return this._v;\n    },\n    show: function () {\n      if (!this.isVisible()) {\n        this._v = true;\n        this.draw();\n        removeClass(this.el, 'is-hidden');\n        if (this._o.bound) {\n          addEvent(document, 'click', this._onClick);\n          this.adjustPosition();\n        }\n        if (typeof this._o.onOpen === 'function') {\n          this._o.onOpen.call(this);\n        }\n      }\n    },\n    hide: function () {\n      var v = this._v;\n      if (v !== false) {\n        if (this._o.bound) {\n          removeEvent(document, 'click', this._onClick);\n        }\n        if (!this._o.container) {\n          this.el.style.position = 'static'; // reset\n          this.el.style.left = 'auto';\n          this.el.style.top = 'auto';\n        }\n        addClass(this.el, 'is-hidden');\n        this._v = false;\n        if (v !== undefined && typeof this._o.onClose === 'function') {\n          this._o.onClose.call(this);\n        }\n      }\n    },\n    /**\n     * GAME OVER\n     */\n    destroy: function () {\n      var opts = this._o;\n      this.hide();\n      removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n      removeEvent(this.el, 'touchend', this._onMouseDown, true);\n      removeEvent(this.el, 'change', this._onChange);\n      if (opts.keyboardInput) {\n        removeEvent(document, 'keydown', this._onKeyChange);\n      }\n      if (opts.field) {\n        removeEvent(opts.field, 'change', this._onInputChange);\n        if (opts.bound) {\n          removeEvent(opts.trigger, 'click', this._onInputClick);\n          removeEvent(opts.trigger, 'focus', this._onInputFocus);\n          removeEvent(opts.trigger, 'blur', this._onInputBlur);\n        }\n      }\n      if (this.el.parentNode) {\n        this.el.parentNode.removeChild(this.el);\n      }\n    }\n  };\n  return Pikaday;\n});","map":{"version":3,"names":["root","factory","moment","exports","require","e","module","define","amd","req","id","Pikaday","hasMoment","hasEventListeners","window","addEventListener","document","sto","setTimeout","addEvent","el","callback","capture","attachEvent","removeEvent","removeEventListener","detachEvent","trim","str","replace","hasClass","cn","className","indexOf","addClass","removeClass","isArray","obj","test","Object","prototype","toString","call","isDate","isNaN","getTime","isWeekend","date","day","getDay","isLeapYear","year","getDaysInMonth","month","setToStartOfDay","setHours","compareDates","a","b","extend","to","from","overwrite","prop","hasProp","undefined","nodeName","Date","slice","fireEvent","eventName","data","ev","createEvent","initEvent","dispatchEvent","createEventObject","adjustCalendar","calendar","Math","ceil","abs","floor","defaults","field","bound","ariaLabel","position","reposition","format","parse","defaultDate","setDefaultDate","firstDay","firstWeekOfYearMinDays","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","container","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","theme","events","onSelect","onOpen","onClose","onDraw","keyboardInput","renderDayName","opts","abbr","renderDay","arr","ariaSelected","isEmpty","push","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","join","isoWeek","yearDay","getDate","weekDay","dayInFirstWeek","dayShift","daysPerWeek","prevWeekDay","setDate","jan4th","getFullYear","msPerDay","daysBetween","weekNum","round","renderWeek","d","m","y","week","renderRow","days","isRowSelected","reverse","renderBody","rows","renderHead","i","renderTitle","instance","c","refYear","randId","j","_o","isMinYear","isMaxYear","html","monthHtml","yearHtml","prev","next","renderTable","options","self","config","_onMouseDown","_v","event","target","srcElement","parentNode","getAttribute","hide","blur","prevMonth","preventDefault","returnValue","_c","_onChange","gotoMonth","value","gotoYear","_onKeyChange","isVisible","keyCode","adjustDate","_parseFieldValue","isValid","toDate","_onInputChange","firedBy","show","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","trigger","createElement","appendChild","body","insertBefore","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","parseInt","setMinDate","setMaxDate","fallback","_d","toDateString","getMoment","setMoment","preventOnSelect","isMoment","draw","min","max","clear","newCalendar","calendars","firstVisibleDate","lastVisibleDate","length","visibleDate","setMonth","getMonth","adjustCalendars","sign","difference","newDay","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","random","substr","render","innerHTML","type","focus","adjustPosition","width","height","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","leftAligned","bottomAligned","style","offsetWidth","offsetHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","now","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","isWeekSelected","r","dayNumber","monthNumber","yearNumber","dayConfig","unshift","v","destroy","removeChild"],"sources":["/Users/zhabib/Documents/GitHub/box-elements-samples/demo-box-metadata-views/node_modules/pikaday/pikaday.js"],"sourcesContent":["/*!\n * Pikaday\n *\n * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution lifted from date.js (MIT license): https://github.com/datejs/Datejs\n        return ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // data-attribute on the input field with an aria assistance text (only applied when `bound` is set)\n        ariaLabel: 'Use the arrow keys to pick a date',\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // minimum number of days in the week that gets week number one\n        // default ISO 8601, week 01 is the week with the first Thursday (4)\n        firstWeekOfYearMinDays: 4,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null,\n\n        // Enable keyboard input\n        keyboardInput: true\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    isoWeek = function(date, firstWeekOfYearMinDays) {\n        // Ensure we're at the start of the day.\n        date.setHours(0, 0, 0, 0);\n\n        // Thursday in current week decides the year because January 4th\n        // is always in the first week according to ISO8601.\n        var yearDay        = date.getDate(),\n            weekDay        = date.getDay(),\n            dayInFirstWeek = firstWeekOfYearMinDays,\n            dayShift       = dayInFirstWeek - 1, // counting starts at 0\n            daysPerWeek    = 7,\n            prevWeekDay    = function(day) { return (day + daysPerWeek - 1) % daysPerWeek; };\n\n        // Adjust to Thursday in week 1 and count number of weeks from date to week 1.\n        date.setDate(yearDay + dayShift - prevWeekDay(weekDay));\n\n        var jan4th      = new Date(date.getFullYear(), 0, dayInFirstWeek),\n            msPerDay    = 24 * 60 * 60 * 1000,\n            daysBetween = (date.getTime() - jan4th.getTime()) / msPerDay,\n            weekNum     = 1 + Math.round((daysBetween - dayShift + prevWeekDay(jan4th.getDay())) / daysPerWeek);\n\n        return weekNum;\n    },\n\n    renderWeek = function (d, m, y, firstWeekOfYearMinDays) {\n        var date = new Date(y, m, d),\n            week = hasMoment ? moment(date).isoWeek() : isoWeek(date, firstWeekOfYearMinDays);\n\n        return '<td class=\"pika-week\">' + week + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? ' disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                    case 8:\n                    case 46:\n                        self.setDate(null);\n                        break;\n                }\n            }\n        };\n\n        self._parseFieldValue = function()\n        {\n            if (opts.parse) {\n                return opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                var date = moment(opts.field.value, opts.format, opts.formatStrict);\n                return (date && date.isValid()) ? date.toDate() : null;\n            } else {\n                return new Date(Date.parse(opts.field.value));\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            date = self._parseFieldValue();\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n\n        if (opts.keyboardInput) {\n            addEvent(document, 'keydown', self._onKeyChange);\n        }\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                opts.defaultDate = self._parseFieldValue();\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * clear and reset the date\n         */\n        clear: function()\n        {\n            this.setDate(null);\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', opts.ariaLabel);\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect, leftAligned, bottomAligned;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n            leftAligned = true;\n            bottomAligned = true;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n                leftAligned = false;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n                bottomAligned = false;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n\n            addClass(this.el, leftAligned ? 'left-aligned' : 'right-aligned');\n            addClass(this.el, bottomAligned ? 'bottom-aligned' : 'top-aligned');\n            removeClass(this.el, !leftAligned ? 'left-aligned' : 'right-aligned');\n            removeClass(this.el, !bottomAligned ? 'bottom-aligned' : 'top-aligned');\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year, opts.firstWeekOfYearMinDays));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n\n                if (!this._o.container) {\n                    this.el.style.position = 'static'; // reset\n                    this.el.style.left = 'auto';\n                    this.el.style.top = 'auto';\n                }\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            var opts = this._o;\n\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            if (opts.keyboardInput) {\n                removeEvent(document, 'keydown', this._onKeyChange);\n            }\n            if (opts.field) {\n                removeEvent(opts.field, 'change', this._onInputChange);\n                if (opts.bound) {\n                    removeEvent(opts.trigger, 'click', this._onInputClick);\n                    removeEvent(opts.trigger, 'focus', this._onInputFocus);\n                    removeEvent(opts.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n}));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}